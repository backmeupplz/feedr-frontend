(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],u=0,f=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);d&&d(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"0115":function(t,e,a){"use strict";var s,i;Object.defineProperty(e,"__esModule",{value:!0});const n=a("9ab4"),o=a("b1f4"),r=a("979f"),c=n.__importStar(a("f493")),l=a("72f0"),d=n.__importDefault(a("2b0e")),u=n.__importDefault(a("2fe1")),f=a("60a3");let v=class extends d.default{chatPagination(t){if(t.target.scrollTop===t.target.scrollTopMax){let t=this.activeBot;for(const e of c.bots())e&&e._id==t._id&&(t=e);t.chats.length;d.default.set(t,"chatsloading",!0),sockets.send("request_chats",{bot:t._id,id:t.oldestLoadedChat._id})}}beautifylDate(t){return l.unixToDate(t)}};n.__decorate([f.Prop({required:!0}),n.__metadata("design:type","function"===typeof(s="undefined"!==typeof o.Bot&&o.Bot)?s:Object)],v.prototype,"activeBot",void 0),n.__decorate([f.Prop({required:!0}),n.__metadata("design:type",Boolean)],v.prototype,"BotsLoading",void 0),n.__decorate([f.Prop({required:!0}),n.__metadata("design:type","function"===typeof(i="undefined"!==typeof r.Chat&&r.Chat)?i:Object)],v.prototype,"activeChat",void 0),n.__decorate([f.Prop({required:!0}),n.__metadata("design:type",Function)],v.prototype,"openChat",void 0),v=n.__decorate([u.default],v),e.default=v},"0140":function(t,e,a){},"02ac":function(t,e,a){"use strict";a.r(e);var s=a("c4e1"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"034f":function(t,e,a){"use strict";var s=a("85ec"),i=a.n(s);i.a},"0431":function(t,e,a){"use strict";var s=a("6fe5"),i=a.n(s);i.a},"0466":function(t,e,a){"use strict";a.r(e);var s=a("7261e"),i=a("971f");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"04ba":function(t,e,a){"use strict";a.r(e);var s=a("8302"),i=a("8429");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"0670":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("ce5b"));a("bf40"),i.default.use(n.default),e.default=new n.default({icons:{iconfont:"mdi"}})},"0728":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{get mes(){if(this.$props.message&&this.$props.type){let t=Object.assign({},this.$props.message);return t.raw||(t.raw=Object.assign({},t),t._id=this.$props._id,t.type=this.$props.type,"vk"===this.$props.type&&(t.raw.name=this.$props.name)),this.$props.editIndex&&(t.editIndex=this.$props.editIndex),t}}};o=s.__decorate([n.default({components:{MessageComponent:()=>Promise.resolve().then(()=>s.__importStar(a("0f7d")))},props:["message","type","editIndex","_id","name"]})],o),e.default=o},"099e":function(t,e,a){"use strict";a.r(e);var s=a("ce54"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"0beb":function(t,e,a){"use strict";a.r(e);var s=a("9163"),i=a("69ab");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("c8e0");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"0c48":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{constructor(){super(...arguments),this.opened=!1,this.hided=!1}updated(){let t;t=this.$refs.videoplayer,t.pause()}get expired(){const t=new URL(this.$props.message.raw.media),e=t.searchParams.get("Expires");return 1e3*Number(e)<Number(new Date)}hide(){this.opened=!1}async loadVideo(){this.expired?this.hided=!0:this.opened=!0}};o=s.__decorate([n.default({props:["message"]})],o),e.default=o},"0c66":function(t,e,a){"use strict";a.r(e);var s=a("54d5"),i=a("eaa6");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("5a8f");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"0dc4":function(t,e,a){"use strict";a.r(e);var s=a("d7b7"),i=a("4969");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"0e58":function(t,e,a){"use strict";a.r(e);var s=a("9500"),i=a("8e44");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"0f1a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{};o=s.__decorate([n.default({props:["game"]})],o),e.default=o},"0f7d":function(t,e,a){"use strict";a.r(e);var s=a("5ad6"),i=a("5015");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("560a");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"0f8b":function(t,e,a){"use strict";a.r(e);var s=a("6049"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"106c":function(t,e,a){"use strict";a.r(e);var s=a("6d0f"),i=a("fdda");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("36a5");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},1145:function(t,e,a){"use strict";var s=a("1485"),i=a.n(s);i.a},"12ef":function(t,e,a){"use strict";a.r(e);var s=a("cff9"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"130c":function(t,e,a){"use strict";a.r(e);var s=a("5f1a"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"13e2":function(t,e,a){"use strict";a.r(e);var s=a("c815"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},1485:function(t,e,a){},1709:function(t,e,a){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0});const i=a("9ab4"),n=a("b1f4"),o=i.__importStar(a("f493")),r=i.__importDefault(a("2b0e")),c=i.__importDefault(a("2fe1")),l=a("60a3");let d=class extends r.default{get bots(){return o.bots()}};i.__decorate([l.Prop({required:!0}),i.__metadata("design:type",Function)],d.prototype,"setActiveBot",void 0),i.__decorate([l.Prop({required:!0}),i.__metadata("design:type","function"===typeof(s="undefined"!==typeof n.Bot&&n.Bot)?s:Object)],d.prototype,"activeBot",void 0),d=i.__decorate([c.default({components:{}})],d),e.default=d},"17d6":function(t,e,a){"use strict";a.r(e);var s=a("51b8"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"18be":function(t,e,a){"use strict";var s=a("656d"),i=a.n(s);i.a},"191e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=a("fe0b");let r=class extends i.default{openMap(t,e){window.open(`https://www.google.com/maps/search/?api=1&query=${t},${e}`,"_blank")}buttonText(t){let e=t.venue?o.i18n.t("place"):o.i18n.t("location");return e}};r=s.__decorate([n.default({props:["message"]})],r),e.default=r},1930:function(t,e,a){},"1a12":function(t,e,a){},"1b12":function(t,e,a){"use strict";a.r(e);var s=a("0c48"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"1e13":function(t,e,a){"use strict";a.r(e);var s=a("9d2f"),i=a("da32");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("3a0f");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"1e7b":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticStyle:{position:"absolute",top:"0",bottom:"0",left:"0",right:"0",width:"100%"},attrs:{flat:"",height:"100vh"}},[a("v-row",{staticClass:"pr-1"},[t.mobile?t._e():a("v-col",{staticClass:"scrollable scroller border__top",attrs:{cols:"0",sm:"4",md:"3",lg:"2"}},t._l(t.sortedChats,(function(e,s){return t.bot.chats?a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:function(e,a){return t.visibilityChanged(e,a,s)},expression:"(isVisible, entry) => visibilityChanged(isVisible, entry, i)"}],key:e._id},[a("v-list-item",{class:{"v-list-item--active":t.chatActivated(e)},attrs:{"active-class":"active"},on:{click:[function(a){return t.openChat(e)},function(e){return e.preventDefault(),t.setMessageSendFocus(e)}]}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.getChatName(e).name))]),e.lastMessage?a("v-list-item-subtitle",[a("i",[t._v(t._s(t.frombot(t.curbot,e.lastMessage)))]),t._v(t._s(e.lastMessage.raw.text||t.$t("chat.attachment")))]):t._e(),"feed"===t.curbot.botType?a("v-list-item-subtitle",[a("i",[t._v(t._s(t.$t("bot.bot"))+": ")]),t._v(t._s(t.getBotName(e))),"viber"===t.getBotType(e)?a("v-icon",{attrs:{"x-small":""}},[t._v("mdi-phone-in-talk")]):"telegram"===t.getBotType(e)?a("v-icon",{attrs:{"x-small":""}},[t._v("mdi-telegram")]):"vk"===t.getBotType(e)?a("v-icon",{attrs:{"x-small":""}},[t._v("mdi-vk")]):t._e()],1):t._e()],1),a("v-list-item-action",[e.lastMessage?a("v-list-item-action-text",{domProps:{textContent:t._s(t.formatDateHM(new Date(e.lastMessage.updatedAt)))}}):t._e(),e.unread?a("v-list-item-action-text",{staticClass:"count-badge"},[t._v(t._s(e.unread))]):t._e()],1)],1),a("v-divider")],1):t._e()})),0),a("v-col",{class:{"pa-4":t.$vuetify.breakpoint.xsOnly,"pa-0 pr-4 chatview":t.$vuetify.breakpoint.smAndUp},attrs:{cols:"12",sm:"8",md:"9",lg:"10"}},[t.mobile?a("v-navigation-drawer",{style:t.listStyle,attrs:{absolute:"",temporary:""},model:{value:t.chatnav,callback:function(e){t.chatnav=e},expression:"chatnav"}},[a("v-list",{attrs:{nav:"","two-line":""}},[a("v-list-item-title",[t._v(t._s(t.$t("chatlist"))+":")]),a("v-list-item-group",{attrs:{"active-class":"text--accent-8"}},t._l(t.sortedChats,(function(e,s){return t.bot.chats?a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:function(e,a){return t.visibilityChanged(e,a,s)},expression:"(isVisible, entry) => visibilityChanged(isVisible, entry, i)"}],key:e._id},[a("v-list-item",{class:{"v-list-item--active":t.chatActivated(e,t.selectedChat)},attrs:{"active-class":"active"},on:{click:[function(a){t.openChat(e),t.chatnav=!t.chatnav},function(e){return e.preventDefault(),t.setMessageSendFocus(e)}]}},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.getChatName(e).name))]),e.lastMessage?a("v-list-item-subtitle",[a("i",[t._v(t._s(t.frombot(t.curbot,e.lastMessage)))]),t._v(t._s(e.lastMessage.raw.text||t.$t("chat.attachment")))]):t._e(),"feed"===t.curbot.botType?a("v-list-item-subtitle",[a("i",[t._v(t._s(t.$t("bot.bot"))+": ")]),t._v(t._s(t.getBotName(e))),"viber"===t.getBotType(e)?a("v-icon",{attrs:{"x-small":""}},[t._v("mdi-phone-in-talk")]):"telegram"===t.getBotType(e)?a("v-icon",{attrs:{"x-small":""}},[t._v("mdi-telegram")]):"vk"===t.getBotType(e)?a("v-icon",{attrs:{"x-small":""}},[t._v("mdi-vk")]):t._e()],1):t._e()],1),e.lastMessage?a("v-list-item-action",[a("v-list-item-action-text",{domProps:{textContent:t._s(t.formatDateHM(new Date(e.lastMessage.updatedAt)))}}),e.unread?a("v-list-item-action-text",{staticClass:"count-badge"},[t._v(t._s(e.unread))]):t._e()],1):t._e()],1)],1):t._e()})),0)],1)],1):t._e(),a("v-card",{attrs:{outlined:"",tile:""}},[a("v-app-bar",{attrs:{elevation:"0"}},[t.mobile?a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.chatnav=!t.chatnav}}}):t._e(),t.chat?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("span",t._g({},s),["feed"===t.getChatName(t.chat).type?a("span",[a("i",[t._v(t._s(t.getChatName(t.chat).botName))]),t._v(" "),"viber"===t.getChatName(t.chat).botType?a("v-icon",{attrs:{small:""}},[t._v("mdi-phone-in-talk")]):"telegram"===t.getChatName(t.chat).botType?a("v-icon",{attrs:{small:""}},[t._v("mdi-telegram")]):"vk"===t.getChatName(t.chat).botType?a("v-icon",{attrs:{small:""}},[t._v("mdi-vk")]):t._e(),t._v(" | "+t._s(t.getChatName(t.chat).name))],1):a("span",[t._v(t._s(t.getChatName(t.chat).name))])])]}}],null,!1,1136381853)},[a("span",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(JSON.stringify(t.chat.raw,void 0,2)))])]):t._e(),a("v-spacer"),a("ChatMenu",{attrs:{chat:t.selectedChat}})],1),t.chatloading?a("v-progress-linear",{attrs:{indeterminate:""}}):t._e()],1),!t.chat&&t.curbot&&t.curbot.chats&&t.curbot.chats.length?a("div",{staticClass:"headline pa-4 text-center"},[t._v(t._s(t.$t("chat.select")))]):t.chat||!t.curbot||t.curbot.chats.length||"feed"===t.curbot.botType?t.curbot.chats&&!t.curbot.chats.length&&"feed"===t.curbot.botType?a("div",{staticClass:"headline pa-4 text-center"},[t.$store.state.bots.length>1?a("div",[t._v(t._s(t.$t("chat.nochats")))]):a("div",[t._v(t._s(t.$t("noBots")))])]):a("v-container",{staticClass:"border__right border__left",staticStyle:{"max-width":"100% !important"}},[a("v-row",[a("ChatComponent",{style:t.wrapperHeight,attrs:{bot:t.bot,curchat:t.selectedChat}})],1),a("v-row",[a("v-form",{ref:"msgSendForm",staticStyle:{width:"100%"},attrs:{onSubmit:"return false;"},model:{value:t.validsend,callback:function(e){t.validsend=e},expression:"validsend"}},[a("v-container",{staticStyle:{"max-width":"100% !important"},attrs:{"justify-center":""}},[a("v-text-field",{ref:"inputMsg",attrs:{rules:t.sendRules},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)}},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-btn",{attrs:{icon:"",text:"",disabled:!t.validsend},on:{click:t.send}},[a("v-icon",[t._v("send")])],1)]},proxy:!0}]),model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)],1)],1)],1):a("div",{staticClass:"headline pa-4 text-center"},[t._v(t._s(t.$t("chat.invite"))),"telegram"===t.bot.botType?a("a",{attrs:{href:"https://t.me/"+t.curbot.username,target:"_blank"}},[t._v(" @"+t._s(t.curbot.username))]):a("div",[t._v("@"+t._s(t.curbot.username))])])],1)],1)],1)},i=[]},"1f35":function(t,e,a){"use strict";a.r(e);var s=a("2296"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},2296:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{constructor(){super(...arguments),this.link="",this.loading=!1,this.disabled=!1}name(t){let e=t.first_name;return e=t.last_name?`${e} ${t.last_name}`:e,e}mobile(){return this.$vuetify.breakpoint.xsOnly?"center":"start"}};o=s.__decorate([n.default({props:["message"]})],o),e.default=o},"22b2":function(t,e,a){"use strict";a.r(e);var s=a("a3d4"),i=a("6a01");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"244a":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"start"}},[t.opened?t._e():a("v-btn",{attrs:{outlined:"",color:"indigo",loading:t.loading},on:{click:t.loadSticker}},[t._v(t._s(t.$t("media.load"))),a("v-icon",{attrs:{right:""}},[t._v("mdi-sticker-emoji")])],1)],1),a("v-row",[t.opened?a("v-img",{attrs:{src:t.link,contain:"",width:"256px",height:"256px"}}):t._e()],1)],1)],1)},i=[]},"245d":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AddBotDialog",{attrs:{dialog:t.addBotDialog,close:t.closeAddBotDialog}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"","hide-overlay":"",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("nav",[a("v-toolbar",{attrs:{dark:"",flat:""}},[t.mobile?a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.settingsNav=!t.settingsNav}}}):t._e(),a("v-toolbar-title",[t._v(t._s(t.$t("botList.title")))]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{icon:"",loading:t.loading},on:{click:t.updateList}},[a("v-icon",[t._v("refresh")])],1),a("v-btn",{attrs:{dark:"",text:""},on:{click:[t.close,function(e){return e.stopPropagation(),t.setDefault(e)}]}},[t._v(t._s(t.$t("close")))])],1)],1)],1),t.loading?a("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),a("v-row",{attrs:{"no-gutters":""}},[t.mobile?t.mobile?a("v-col",{staticClass:"border__right border__top",attrs:{cols:"0",sm:"4",md:"3"}},[t.mobile?a("v-navigation-drawer",{style:t.listStyle,attrs:{absolute:"",temporary:""},model:{value:t.settingsNav,callback:function(e){t.settingsNav=e},expression:"settingsNav"}},[a("v-list",{attrs:{dense:""}},[t._l(t.$store.state.bots,(function(e){return"feed"!==e.botType?a("v-list-group",{key:e._id,attrs:{"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-icon",[a("v-icon",[t._v(t._s(t.getIcon(e.botType)))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))])],1)]},proxy:!0}],null,!0)},[a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){t.openTab(e,"about"),t.settingsNav=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-information")])],1),a("v-list-item-title",[t._v(t._s(t.$t("bot.about")))])],1),e.administrated?t._e():a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){t.openTab(e,"admins"),t.settingsNav=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account")])],1),a("v-list-item-title",[t._v(t._s(t.$t("admin.admins")))])],1),e.administrated?t._e():a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){t.openTab(e,"greeting"),t.settingsNav=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-human-greeting")])],1),a("v-list-item-title",[t._v(t._s(t.$t("bot.greetings")))])],1),e.administrated?t._e():a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){a.stopPropagation(),t.updateBot(e),t.settingsNav=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("refresh")])],1),a("v-list-item-title",[t._v(t._s(t.$t("bot.update")))])],1),e.administrated?t._e():a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){a.stopPropagation(),t.deleteBot(e),t.settingsNav=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-delete")])],1),a("v-list-item-title",{staticClass:"red--text"},[t._v(t._s(t.$t("bot.delete")))])],1),e.administrated?a("v-list-item",{on:{click:function(a){a.stopPropagation(),t.rejectBot(e),t.settingsNav=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-delete")])],1),a("v-list-item-title",{staticClass:"red--text"},[t._v(t._s(t.$t("bot.reject")))])],1):t._e()],1):t._e()})),t._l(t.$store.state.invites,(function(e){return a("v-list-item",{key:e.inviteID,attrs:{"no-action":""},on:{click:function(a){t.openTab(e,"invite"),t.settingsNav=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-alert-decagram")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.bot))])],1)],1)})),"active"===t.$store.state.user.subscriptionStatus||"earlyAdopter"===t.$store.state.user.subscriptionStatus?a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(e){t.addBotDialog=!0,t.settingsNav=!1}}},[a("v-list-item-icon",{attrs:{loading:t.loading}},[a("v-icon",[t._v("add")])],1),a("v-list-item-title",{staticClass:"blue--text"},[t._v(t._s(t.$t("addBot.title")))])],1):t._e()],2)],1):t._e()],1):t._e():a("v-col",{staticClass:"border__right border__top",attrs:{cols:"0",sm:"4",md:"3"}},[a("v-list",{attrs:{dense:""}},[t._l(t.$store.state.bots,(function(e){return"feed"!==e.botType?a("v-list-group",{key:e._id,attrs:{"no-action":""},scopedSlots:t._u([{key:"activator",fn:function(){return[a("v-list-item-icon",[a("v-icon",[t._v(t._s(t.getIcon(e.botType)))])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.name))])],1)]},proxy:!0}],null,!0)},[a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){return t.openTab(e,"about")}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-information")])],1),a("v-list-item-title",[t._v(t._s(t.$t("bot.about")))])],1),e.administrated?t._e():a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){return t.openTab(e,"admins")}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account")])],1),a("v-list-item-title",[t._v(t._s(t.$t("admin.admins")))])],1),e.administrated?t._e():a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){return t.openTab(e,"greeting")}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-human-greeting")])],1),a("v-list-item-title",[t._v(t._s(t.$t("bot.greetings")))])],1),e.administrated?t._e():a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){return a.stopPropagation(),t.updateBot(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v("refresh")])],1),a("v-list-item-title",[t._v(t._s(t.$t("bot.update")))])],1),e.administrated?t._e():a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(a){return a.stopPropagation(),t.deleteBot(e)}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-delete")])],1),a("v-list-item-title",{staticClass:"red--text"},[t._v(t._s(t.$t("bot.delete")))])],1),e.administrated?a("v-list-item",{on:{click:function(a){a.stopPropagation(),t.rejectBot(e),t.settingsNav=!1}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-delete")])],1),a("v-list-item-title",{staticClass:"red--text"},[t._v(t._s(t.$t("bot.reject")))])],1):t._e()],1):t._e()})),t._l(t.$store.state.invites,(function(e){return a("v-list-item",{key:e.inviteID,attrs:{"no-action":""},on:{click:function(a){return t.openTab(e,"invite")}}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-alert-decagram")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(e.bot))])],1)],1)})),"active"===t.$store.state.user.subscriptionStatus||"earlyAdopter"===t.$store.state.user.subscriptionStatus?a("v-list-item",{attrs:{disabled:t.loading},on:{click:function(e){t.addBotDialog=!0}}},[a("v-list-item-icon",{attrs:{loading:t.loading}},[a("v-icon",[t._v("add")])],1),a("v-list-item-title",{staticClass:"blue--text"},[t._v(t._s(t.$t("addBot.title")))])],1):t._e()],2)],1),t.tab&&(t.bot||t.invite)?a("v-col",{attrs:{cols:"12",sm:"8",md:"9"}},[a("v-card",{attrs:{outlined:"",tile:""}},[t.curbot?a("v-card-text",["about"===t.tab?a("v-card",{staticClass:"botCard"},[a("v-card-title",[a("v-icon",[t._v(t._s(t.getIcon(t.curbot.botType)))]),t._v(t._s(t.curbot.name))],1),a("v-card-text",[a("p",[t._v("FeedrID: "+t._s(t.curbot._id))]),a("p",[t._v("Username: @"+t._s(t.curbot.username))]),"telegram"===t.curbot.botType?a("div",[a("p",[t._v("TelegramID: "+t._s(t.curbot.telegramId))])]):t._e(),"vk"===t.curbot.botType?a("div",[a("p",[t._v("VKontakteID: "+t._s(t.curbot.vkId))])]):t._e(),a("p",[t._v(t._s(t.$t("type"))+": "+t._s(t.curbot.botType))]),"viber"===t.curbot.botType?a("div",[a("p",[t._v(t._s(t.$t("avatar"))+": "+t._s(t.curbot.viberAvatar))])]):t._e(),a("p",[t._v(t._s(t.$t("bot.status"))+": "+t._s(t.curbot.status))]),a("p",[t._v(t._s(t.$t("bot.greetings"))+": "+t._s(t.curbot.greetingMessage))]),a("p",[t._v(t._s(t.$t("bot.owner"))+": "+t._s(t.ownershipStatus(t.curbot)))])])],1):"admins"===t.tab?a("AddAdminTab",{attrs:{botId:t.curbot._id}}):"greeting"===t.tab?a("EditBotTab",{attrs:{botId:t.curbot._id,greetingMessage:t.curbot.greetingMessage}}):t._e()],1):t.invite?a("v-card-text",["invite"===t.tab?a("v-card",{staticClass:"botCard"},[a("v-card-title",[t._v(t._s(t.$t("InviteMessage",{inviter:t.invite.inviter,bot:t.invite.bot})))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){t.RejectInvite(t.invite.inviteID),t.openedBot=null,t.openedTab=null,t.invite=null}}},[t._v(t._s(t.$t("reject")))]),a("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.AcceptInvite(t.invite.inviteID),t.openedBot=null,t.openedTab=null,t.invite=null}}},[t._v(t._s(t.$t("accept")))])],1)],1):t._e()],1):t._e()],1)],1):a("v-col",{attrs:{cols:"12",sm:"8",md:"9"}},[a("v-card",{staticClass:"botCard"},[t.$store.state.bots.length<2&&("active"===t.$store.state.user.subscriptionStatus||"earlyAdopter"===t.$store.state.user.subscriptionStatus)?a("v-card-title",[a("div",{staticClass:"headline pa-4 text-center",staticStyle:{"word-break":"break-word"}},[t._v(t._s(t.$t("botList.noBotsText")))])]):"active"!==t.$store.state.user.subscriptionStatus&&"earlyAdopter"!==t.$store.state.user.subscriptionStatus?a("v-card-title",[a("div",{staticClass:"headline pa-4 text-center",staticStyle:{"word-break":"break-word"}},[t._v(t._s(t.$t("botList.noSubText")))])]):a("v-card-title",[a("div",{staticClass:"headline pa-4 text-center",staticStyle:{"word-break":"break-word"}},[t._v(t._s(t.$t("botList.select")))])])],1)],1)],1)],1)],1)],1)},i=[]},"25ad":function(t,e,a){"use strict";a.r(e);var s=a("3e4e"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"263c":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{};o=s.__decorate([n.default({props:["message"]})],o),e.default=o},"273a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{openMap(t,e){window.open(`https://www.google.com/maps/search/?api=1&query=${t},${e}`,"_blank")}};o=s.__decorate([n.default({props:["message"]})],o),e.default=o},"27d1":function(t,e,a){"use strict";a.r(e);var s=a("2fd3"),i=a("130c");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"28bc":function(t,e,a){"use strict";a.r(e);var s=a("3f80"),i=a("dff7");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("8468");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"2fd3":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",t._l(t.messageText,(function(e,s){return a("span",{key:s},["link"===e.type?a("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.value))]):"handle"===e.type?a("a",{attrs:{href:t.getHandle(e.value.slice(1)),target:"_blank"}},[t._v(t._s(e.value))]):"text"===e.type&&e.value?a("span",[t._v(t._s(e.value))]):t._e()])})),0)},i=[]},"31e8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{constructor(){super(...arguments),this.opened=!1}async loadSticker(){this.opened=!0}};o=s.__decorate([n.default({props:["message"]})],o),e.default=o},3219:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.chat?a("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{icon:"",color:"grey"}},s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,969561334)},[a("v-list",[a("v-dialog",{attrs:{persistent:"",width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[t.chat?a("v-list-item",{on:{click:function(e){e.stopPropagation(),t.modalProfile=!0}}},[a("v-list-item-title",[t._v(t._s(t.$t("chat.profile")))])],1):t._e()]}}],null,!1,148219014),model:{value:t.modalProfile,callback:function(e){t.modalProfile=e},expression:"modalProfile"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.getChatName(t.chat)))]),a("v-card-text",[t._v("FeedrID: "+t._s(t.chat._id))]),"telegram"===t.chat.type?a("v-card-text",[t._v("TelegramID: "+t._s(t.chat.telegramId))]):t._e(),"vk"===t.chat.type?a("v-card-text",[t._v("VK Profile:"),a("a",{attrs:{target:"_blank",href:"https://vk.com/id"+t.chat.raw.id}},[t._v("https://vk.com/id"+t._s(t.chat.raw.id))])]):t._e(),t.chat.raw.username?a("v-card-text",[t._v(" Username:"),a("a",{attrs:{target:"_blank",href:"https://t.me/"+t.chat.raw.username}},[t._v("@"+t._s(t.chat.raw.username))])]):"viber"===t.chat.type?a("v-card-text",[t._v("ViberID: "+t._s(t.chat.viberId))]):"vk"===t.chat.type?a("v-card-text",[t._v("VkID: "+t._s(t.chat.raw.id))]):t._e(),t.chat.banned?a("v-card-text",[a("b",[t._v(t._s(t.$t("chat.banned"))+"!")])]):t._e(),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.modalProfile=!1}}},[t._v(t._s(t.$t("close")))])],1)],1)],1),t.chat&&t.chat.banned?a("v-list-item",{on:{click:function(e){return t.unban(t.chat)}}},[a("v-list-item-title",[t._v(t._s(t.$t("chat.unban")))])],1):t.chat?a("v-list-item",{on:{click:function(e){return t.ban(t.chat)}}},[a("v-list-item-title",[t._v(t._s(t.$t("chat.ban")))])],1):t._e(),t.chat?a("v-list-item",{on:{click:function(e){return t.copy(t.chat)}}},[a("v-list-item-title",[t._v(t._s(t.$t("text.copy")))])],1):t._e()],1)],1):t._e()},i=[]},"32ea":function(t,e,a){"use strict";a.r(e);var s=a("e39d"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"33d4":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{attrs:{onSubmit:"return false;"},model:{value:t.validgreeting,callback:function(e){t.validgreeting=e},expression:"validgreeting"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("editBot.title")))]),a("v-card-text",[a("div",{staticClass:"body-1"},[t._v(t._s(t.$t("currentMessage"))+": "+t._s(t.greetingMessage))]),a("v-textarea",{attrs:{label:t.$t("editBot.greeting"),rules:t.greetingRules,multiline:""},model:{value:t.newGreetings,callback:function(e){t.newGreetings=e},expression:"newGreetings"}})],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",loading:t.loading,color:"error"},on:{click:t.close}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{text:"",loading:t.loading,disabled:!t.validgreeting,color:"blue"},on:{click:t.save}},[t._v(t._s(t.$t("save")))])],1)],1)],1)},i=[]},3486:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("v-container",[a("v-row",{attrs:{justify:"start"}},[t.hided?a("div",[t._v(" "+t._s(t.$t("oldlink")))]):a("v-btn",{attrs:{outlined:"",color:"indigo",loading:t.loading},on:{click:t.loadVideo}},[t._v(t._s(t.$t("media.load"))),a("v-icon",{attrs:{right:""}},[t._v("mdi-video-outline")])],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":""},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.opened=!1}}},[a("v-icon",[t._v("mdi-close")])],1),a("v-toolbar-title",[t._v("Viber Video")])],1),a("video",{ref:"videoplayer",staticClass:"player",attrs:{controls:""}},[a("source",{attrs:{src:t.message.raw.media,type:"video/mp4"}})])],1)],1)],1)],1)},i=[]},"34cc":function(t,e,a){"use strict";a.r(e);var s=a("cbfb"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"36a5":function(t,e,a){"use strict";var s=a("f3ac"),i=a.n(s);i.a},"3a0f":function(t,e,a){"use strict";var s=a("f003"),i=a.n(s);i.a},"3ae8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493")),c=s.__importDefault(a("27d1"));let l=class extends i.default{constructor(){super(...arguments),this.link="",this.loading=!1,this.disabled=!1}async loadSticker(){this.loading=!0;try{let t=await o.getFilesLink(this.$props.message);switch(t.status){case"ok":this.link=t.url,window.open(this.link,"_blank");break;case"tobig":this.disabled=!0,r.setSnackbar({message:"errors.media.tobig",color:"error",active:!0});break}}catch(t){r.setSnackbar({message:"errors.media.loading",color:"error",active:!0})}finally{this.loading=!1}}filesize(t){const e=["Bytes","KB","MB","GB","TB"];if(0===t)return"n/a";const a=Math.floor(Math.log(t)/Math.log(1024));return 0===a?`${t} ${e[a]}`:`${(t/1024**a).toFixed(1)} ${e[a]}`}mobile(){return this.$vuetify.breakpoint.xsOnly?"center":"start"}};l=s.__decorate([n.default({props:["message"],components:{handledText:c.default}})],l),e.default=l},"3d00":function(t,e,a){"use strict";a.r(e);var s=a("ce9b"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"3d48":function(t,e,a){"use strict";a.r(e);var s=a("7402"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"3d82":function(t,e,a){"use strict";var s=a("f750"),i=a.n(s);i.a},"3dfd":function(t,e,a){"use strict";a.r(e);var s=a("4c20"),i=a("6f68");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("034f");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"3e4e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493"));let c=class extends i.default{constructor(){super(...arguments),this.link="",this.loading=!1,this.opened=!1}async loadSticker(){this.loading=!0;try{this.link=await o.getFilesLink(this.$props.message),this.opened=!0}catch(t){r.setSnackbar({message:"errors.media.loading",color:"error",active:!0})}finally{this.loading=!1}}};c=s.__decorate([n.default({props:["message"]})],c),e.default=c},"3ece":function(t,e,a){"use strict";var s=a("0140"),i=a.n(s);i.a},"3f80":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{dense:"",justify:t.mobile()}},[a("v-col",{staticClass:"col_nogrow",attrs:{md:"auto"}},[a("v-btn",{attrs:{fab:"",outlined:"",small:"",color:"indigo",loading:t.loading,disabled:t.disabled},on:{click:!1}},[a("v-icon",[t._v("mdi-account")])],1)],1),a("v-col",{attrs:{md:"auto"}},[a("div",{staticClass:"caption",attrs:{id:"contact-number"}},[t._v(t._s(t.message.raw.contact.phone_number))]),a("div",{staticClass:"caption"},[t._v(t._s(t.message.raw.contact.name))])])],1)],1)],1)},i=[]},"3fc2":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importDefault(a("9b54")),r=s.__importDefault(a("0466")),c=s.__importDefault(a("97a7")),l=s.__importDefault(a("ec84")),d=s.__importDefault(a("5909")),u=s.__importDefault(a("e289")),f=s.__importDefault(a("d03e")),v=s.__importDefault(a("106c")),m=s.__importDefault(a("ea14")),p=s.__importDefault(a("1e13")),b=s.__importDefault(a("794c")),g=s.__importDefault(a("fd08")),_=s.__importDefault(a("6344")),h=s.__importDefault(a("28bc")),y=s.__importDefault(a("971b")),w=s.__importDefault(a("44e7")),k=s.__importDefault(a("6363")),x=s.__importDefault(a("7ac7")),$=a("fe0b"),C=s.__importDefault(a("c1df"));let j=class extends i.default{constructor(){super(...arguments),this.modalForwarded=!1,this.modalEdits=!1}get telegram(){return"telegram"===this.$props.message.type}get vk(){return"vk"===this.$props.message.type}get viber(){return"viber"===this.$props.message.type}formatDate(t){return"viber"===t.type?C.default(t.createdAt).format("HH:mm"):t.raw.edit_date?C.default(1e3*t.raw.edit_date).format("HH:mm"):C.default(1e3*t.raw.date).format("HH:mm")}get trueMessage(){let t=Object.assign({},this.$props.message);return delete t.edits,t}get edits(){if(!this.$props.message)return;let t=this.$props.message;return t.edits&&t.edits.length?t.edits:void 0}get msg(){if(!this.$props.message)return;let t=this.$props.message;if(t.edits&&t.edits.length){let e=Object.assign({},t);return delete e.raw,e.editIndex=t.edits.length-1,e.raw=t.edits[t.edits.length-1],e}return t}formatDateTooltip(t){return"viber"===t.type?C.default(t.createdAt).format("YYYY-MM-DD HH:mm:ss"):t.raw.edit_date?C.default(1e3*t.raw.edit_date).format("YYYY-MM-DD HH:mm:ss"):C.default(1e3*t.raw.date).format("YYYY-MM-DD HH:mm:ss")}forwardedMessage(t){const e=t.raw;return!!(e.forward_from||e.forward_from_chat||e.forward_sender_name)}forwardedMessageUsernameExceptions(t){return t.raw.forward_sender_name?$.i18n.t("forwarded_message.user_hidden"):t.raw.forward_from_chat&&"channel"===t.raw.forward_from_chat.type?$.i18n.t("forwarded_message.channel_private"):!t.raw.forward_from_chat||"group"!==t.raw.forward_from_chat.type&&"supergroup"!==t.raw.forward_from.chat.type?t.raw.forward_from_chat&&"private"===t.raw.forward_from_chat.type?$.i18n.t("forwarded_message.no_username"):"Username uncaught parsing error":$.i18n.t("forwarded_message.group_private")}forwardedMessageName(t){const e=t.raw;if(e.forward_from){const t=e.forward_from.last_name||"";return e.forward_from.first_name+" "+t}return e.forward_from_chat?e.forward_from_chat.title:e.forward_sender_name?e.forward_sender_name:"Error"}};j=s.__decorate([n.default({props:["message","edited"],components:{TextMessage:o.default,EditedMessage:x.default,UnSupportedMessage:r.default,TelegramPhotoMessage:c.default,TelegramVideoMessage:l.default,TelegramLocationMessage:d.default,TelegramStickerMessage:f.default,TelegramDocumentMessage:v.default,TelegramContactMessage:m.default,TelegramAudioMessage:p.default,TelegramPollMessage:u.default,TelegramGameMessage:b.default,ViberLocationMessage:g.default,ViberPhotoMessage:_.default,ViberContactMessage:h.default,ViberVideoMessage:y.default,ViberDocumentMessage:w.default,ViberStickerMessage:k.default}})],j),e.default=j},4052:function(t,e,a){"use strict";a.r(e);var s=a("1709"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"40cc":function(t,e,a){"use strict";a.r(e);var s=a("273a"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"43f5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("f493")),r=a("fe0b"),c=s.__importDefault(a("0f7d")),l=a("60a3"),d=a("72f0");let u=class extends i.default{constructor(){super(...arguments),this.text="",this.typingCooldown=!1,this.messageUpdating=!1}get messageInCorrectOrder(){var t,e;return null===(e=null===(t=this.chat)||void 0===t?void 0:t.messages)||void 0===e?void 0:e.reverse()}goBack(){o.setActiveChat(!1)}handleText(t){this.text=t.target.value}translate(t){return r.i18n.t(t)}beautifylDate(t){return d.unixToDate(t)}isUser(t){var e;return t.raw.from.id===(null===(e=this.chat)||void 0===e?void 0:e.raw.id)}name(t){if(t)return`${t.substr(0,10)} ${t.length>=10?"...":""}`}send(){this.chat&&this.text&&(sockets.send("send_message",{bot:this.chat.bot,chat:this.chat._id,message:this.text,type:this.chat.type}),this.setTypingCooldown(!1),this.text="")}sendTyping(t){if(t){if(this.typingCooldown)return;this.setTypingCooldown(!0),this.setTyping();const t=this;setTimeout(()=>t.setTypingCooldown(!1),5e3)}}setTypingCooldown(t){this.typingCooldown=t}setTyping(){this.chat&&sockets.send("send_typing",{bot:this.chat.bot,chat:this.chat._id,type:this.chat.type})}};s.__decorate([l.Prop({required:!0}),s.__metadata("design:type",Object)],u.prototype,"chat",void 0),u=s.__decorate([n.default({components:{MessageComponent:c.default}})],u),e.default=u},"44b9":function(t,e,a){"use strict";var s=a("cb20"),i=a.n(s);i.a},"44e7":function(t,e,a){"use strict";a.r(e);var s=a("4e45"),i=a("32ea");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("5e5e");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"450e":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"mb-3 message-text"},[a("v-icon",[t._v("mdi-gamepad-variant-outline")]),t.game.title?a("b",[t._v(t._s(t.game.title))]):t._e(),a("br"),a("br"),t.game.description?a("i",[t._v(t._s(t.game.description))]):t._e()],1)},i=[]},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(t){var e=n(t);return a(e)}function n(t){if(!a.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="4678"},"46cd":function(t,e,a){"use strict";a.r(e);var s=a("e5f4"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"471a":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("handledText",{attrs:{message:t.message}}),a("v-container",[a("v-row",{attrs:{justify:"start"}},[a("v-btn",{attrs:{outlined:"",color:"indigo",loading:t.loading},on:{click:t.loadVideo}},[t._v(t._s(t.$t("media.load"))),a("v-icon",{attrs:{right:""}},[t._v("mdi-video-outline")])],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":""},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.opened=!1}}},[a("v-icon",[t._v("mdi-close")])],1),t.message.raw.video?a("v-toolbar-title",[t._v("Telegram Video")]):t.message.raw.video_note?a("v-toolbar-title",[t._v("Telegram Telescope Video")]):a("v-toolbar-title",[t._v("Telegram Animation")])],1),a("video",{ref:"videoplayer",staticClass:"player",attrs:{controls:""}},[a("source",{attrs:{src:t.link,type:"video/mp4"}})])],1)],1)],1)],1)},i=[]},4720:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{};o=s.__decorate([n.default],o),e.default=o},4969:function(t,e,a){"use strict";a.r(e);var s=a("a455"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"4a77":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493")),c=a("fe0b");let l=class extends i.default{constructor(){super(...arguments),this.loading=!1,this.accountIdentifier="",this.accountType="",this.adminsinvites=[],this.validid=!1,this.tableValues=[]}get headersTable(){const t=c.i18n.t("admin.status"),e=c.i18n.t("admin.name"),a=c.i18n.t("admin.actions");return[{text:e,value:"name"},{text:t,value:"status"},{text:a,value:"action",sortable:!1}]}mounted(){this.accountType="E-mail",this.accountIdentifier="",this.refresh()}get tableval(){return this.tableValues}async removeAdminOrInvite(t){if(confirm(c.i18n.t("admin.confirm",{name:t.name}))){this.loading=!0;try{await o.RejectAdmin(t.id,this.$props.botId,t.type),this.refresh()}catch(e){r.setSnackbarError(e.message)}finally{this.loading=!1}}}async add(){this.loading=!0;try{if(!this.validid)return;await o.BotInviteAdmin(this.$props.botId,this.accountIdentifier,this.accountType);r.setBots(await o.getBots())}catch(t){t&&t.response&&t.response.data?r.setSnackbarError(t.response.data):r.setSnackbarError("errors.bot.inviteAdmin")}finally{this.refresh(),this.loading=!1}}async refresh(){this.loading=!0;try{this.adminsinvites=await o.GetInvitesAndAdministrators(this.$props.botId)}catch(t){t&&t.response&&t.response.data?r.setSnackbarError(t.response.data):r.setSnackbarError("errors.bot.getAdmins")}finally{this.$refs.formAddAdmin.resetValidation(),this.loading=!1}}get IDFieldText(){return"E-mail"==this.accountType?"E-mail":"TelegramID"}validateForm(){setTimeout(this.revalidateForm,100)}revalidateForm(){this.$refs.formAddAdmin&&this.$refs.formAddAdmin.validate()}get IdentifierRules(){const t=[t=>!!t||c.i18n.t("validation.needtext"),t=>t&&t.length<200||c.i18n.t("validation.greetings.toomanychars")];if("E-mail"==this.accountType){const e=t=>t&&/.+@.+/.test(t)||c.i18n.t("validation.notemail");t.push(e)}else{const e=t=>t&&!isNaN(t)||c.i18n.t("validation.notnumber");t.push(e)}return t}};l=s.__decorate([n.default({props:{botId:String},watch:{botId:async function(t){t&&(this.accountType="E-mail",this.accountIdentifier="",this.refresh())},accountType:"validateForm",accountIdentifier:"validateForm",adminsinvites:async function(t){const e=c.i18n.t("admin.invited"),a=c.i18n.t("admin.admin");if(t.length>=1){let s=[];const i=await t.map(t=>{"invite"==t.type?s.push({name:t.name,type:"invite",status:e,id:t.id}):s.push({name:t.name,type:"admin",status:a,id:t.id})});return await Promise.all(i),void(this.tableValues=s)}this.tableValues=[]}}})],l),e.default=l},"4b9b":function(t,e,a){},"4c20":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("cookie-law",{attrs:{theme:"blood-orange",buttonText:t.$t("cookie.button"),message:t.$t("cookie.message")}}),a("div",{staticClass:"max-height-s"},[a("Navbar"),a("Snackbar"),a("v-content",{staticClass:"app-container-max-height"},[a("router-view",{staticClass:"app-container-max-height"})],1)],1)],1)},i=[]},"4e45":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("v-container",{attrs:{fluid:""}},[t.hided?a("div",[t._v(" "+t._s(t.$t("oldlink")))]):a("v-row",{attrs:{dense:"",justify:t.mobile()}},[a("v-col",{staticClass:"col_nogrow",attrs:{md:"auto"}},[a("v-btn",{attrs:{fab:"",outlined:"",small:"",color:"indigo"},on:{click:t.loadSticker}},[a("v-icon",[t._v("mdi-download")])],1)],1),a("v-col",{attrs:{md:"auto"}},[t.message.raw.file_name?a("div",{staticClass:"caption"},[t._v(t._s(t.message.raw.file_name))]):t._e(),a("div",{staticClass:"caption"},[t._v(t._s(t.filesize(t.message.raw.size)))])])],1)],1)],1)},i=[]},5015:function(t,e,a){"use strict";a.r(e);var s=a("3fc2"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"51b8":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493")),c=a("fe0b");let l=class extends i.default{constructor(){super(...arguments),this.loading=!1,this.newGreetings="",this.validgreeting=!1}async save(){this.loading=!0;try{await o.BotChangeGreetings(this.$props.botId,this.newGreetings),r.setBots(await o.getBots())}catch(t){t&&t.response&&t.response.data?r.setSnackbarError(t.response.data):r.setSnackbarError("errors.bot.edit")}finally{this.loading=!1}}get greetingRules(){return[t=>!!t||c.i18n.t("validation.needtext"),t=>t&&t.length<2e3||c.i18n.t("validation.greetings.toomanychars")]}};l=s.__decorate([n.default({props:{greetingMessage:String,botId:String},watch:{dialog:function(t){this.greetingMessage&&(this.newGreetings=this.greetingMessage)}}})],l),e.default=l},"54d5":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",{ref:"formAddAdmin",attrs:{onSubmit:"return false;"},model:{value:t.validid,callback:function(e){t.validid=e},expression:"validid"}},[a("v-card",[a("v-card-title",[a("span",[t._v(t._s(t.$t("admin.admins")))]),a("v-spacer"),a("v-btn",{attrs:{icon:"",loading:t.loading},on:{click:t.refresh}},[a("v-icon",[t._v("refresh")])],1)],1),a("v-card-text",[a("v-container",[t.adminsinvites&&t.adminsinvites.length>=1?a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersTable,"hide-default-footer":"",items:t.tableval},scopedSlots:t._u([{key:"item.action",fn:function(e){var s=e.item;return[a("v-icon",{on:{click:function(e){return t.removeAdminOrInvite(s)}}},[t._v("delete")])]}}],null,!1,2453287124)})],1):a("div",[t._v(t._s(t.$t("admin.noadmins")))])]),a("v-container",[a("div",{staticClass:"subtitle-1"},[t._v(t._s(t.$t("admin.invite"))),a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-row",[a("v-col",{attrs:{cols:"7",md:"4"}},[a("v-select",{staticClass:"addadmin__select-field",attrs:{dense:"",items:[{text:"E-mail",value:"E-mail"},{text:"TelegramID",value:"TelegramID"}],"item-value":"E-mail",label:t.$t("admin.type"),required:"",outlined:""},model:{value:t.accountType,callback:function(e){t.accountType=e},expression:"accountType"}})],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-text-field",{staticClass:"addadmin__text-field",attrs:{label:t.IDFieldText,rules:t.IdentifierRules,multiline:"",required:""},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.add(e)}},model:{value:t.accountIdentifier,callback:function(e){t.accountIdentifier=e},expression:"accountIdentifier"}})],1)],1)],1)],1)])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",loading:t.loading,disabled:!t.validid,color:"blue"},on:{click:t.add}},[t._v(t._s(t.$t("invite")))])],1)],1)],1)},i=[]},5527:function(t,e,a){"use strict";a.r(e);var s=a("8c54"),i=a("a575");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("fc86");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"560a":function(t,e,a){"use strict";var s=a("8c3e"),i=a.n(s);i.a},5869:function(t,e,a){"use strict";a.r(e);var s=a("245d"),i=a("12ef");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("3d82");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"58da":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("f493")),r=s.__importDefault(a("0f7d"));let c=class extends i.default{constructor(){super(...arguments),this.text="",this.messageUpdating=!0}scrollTimer(){let t=this.$el;t.scrollTop=1e5}scroll(){this.chatUpdate(),setTimeout(this.scrollTimer,200)}chatUpdate(){let t=this,e=this.$props.curchat||void 0;this.messageUpdating=!0,setTimeout(()=>t.messageUpdating=!1,700),e&&sockets.send("read_chat",{botId:e.bot,chatId:e._id})}frombot(t,e){return!!e.frombot}get lastMessage(){if(this.$props.curchat&&this.$props.curchat.messages.length>0&&this.sortedMessages){return this.sortedMessages[this.sortedMessages.length-1]}return[]}updated(){this.$nextTick(()=>{o.setNoMoreMessages(!1)})}get unreadMessages(){if(!this.sortedMessages)return!1;let t=!1;return this.sortedMessages.map(e=>{e.unread&&(t=!0)}),t}get sortedMessages(){if(this.$props.curchat&&this.$props.bot)for(const t of o.bots())if(t._id===this.$props.bot._id){if(!t.chats)return[];for(const e of t.chats||[])if(this.$props.curchat&&e._id===this.$props.curchat._id)return e.messages?e.messages.sort((t,e)=>{if(t.createdAt&&e.createdAt)return new Date(t.createdAt)<new Date(e.createdAt)?-1:1}):(sockets.send("request_messages",{bot:e.bot,chat:e._id}),[])}}get heightStyle(){let t=document.documentElement.clientHeight-400;return{height:t+"px !important;"}}async visibilityChanged(t,e,a,s,i,n){t&&(s.unread&&o.readMessage(s),this.messageUpdating||o.nomoremessages()||0==a&&this.loadMessages(s,i,n))}async loadMessages(t,e,a){if(!this.messageUpdating)try{this.messageUpdating=!0,sockets.send("request_messages",{bot:e.bot,chat:e._id,id:t._id})}catch(s){o.setSnackbarError("errors.loadMessages")}finally{this.messageUpdating=!1}}};c=s.__decorate([n.default({components:{MessageComponent:r.default},props:{bot:Object,curchat:Object,messages:Array},watch:{lastMessage:function(t){let e=this,a=!0;return e.chatUpdated&&e.$props.curchat&&e.chatUpdated<e.$props.curchat.updated?(e.chatUpdated=e.$props.curchat.updatedAt,e.last=t,e.chatUpdate(),void e.scroll()):e.last?e.last.chat!==t.chat?(e.last=t,e.chatUpdate(),void e.scroll()):(e.last&&t&&!t.frombot&&(a=!1),void(t!==e.last&&(e.last=t,e.chatUpdate(),a&&e.scroll()))):(e.chatUpdated=e.$props.curchat.updatedAt,e.last=t,e.chatUpdate(),void e.scroll())}}})],c),e.default=c},5909:function(t,e,a){"use strict";a.r(e);var s=a("6edc"),i=a("f195");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"5a8f":function(t,e,a){"use strict";var s=a("acd0"),i=a.n(s);i.a},"5abf":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{};o=s.__decorate([n.default],o),e.default=o},"5ad6":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chat-preview-user-messagebox"},[a("v-list-item",{staticClass:"test-test",attrs:{"three-line":""}},[a("v-list-item-content",{staticClass:"test-test"},[t.forwardedMessage(t.message)?a("v-dialog",{attrs:{persistent:"",width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[a("div",{staticClass:"caption mb-2 white--text",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.modalForwarded=!0}}},[t._v(t._s(t.$t("forwarded_message.forwarded_from"))+" "+t._s(t.forwardedMessageName(t.message)))])]}}],null,!1,3537340227),model:{value:t.modalForwarded,callback:function(e){t.modalForwarded=e},expression:"modalForwarded"}},[a("v-card",{staticClass:"test-test"},[a("v-card-title",[t._v(t._s(t.forwardedMessageName(t.message)))]),t.message.raw.forward_from_chat&&t.message.raw.forward_from_chat.username?a("v-card-text",[t._v(" Username:"),a("a",{attrs:{target:"_blank",href:"https://t.me/"+t.message.raw.forward_from_chat.username}},[t._v("@"+t._s(t.message.raw.forward_from_chat.username))])]):t.message.raw.forward_from&&t.message.raw.forward_from.username?a("v-card-text",[t._v(" Username:"),a("a",{attrs:{target:"_blank",href:"https://t.me/"+t.message.raw.forward_from.username}},[t._v("@"+t._s(t.message.raw.forward_from.username))])]):a("v-card-text",[t._v(t._s(t.forwardedMessageUsernameExceptions(t.message)))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.modalForwarded=!1}}},[t._v(t._s(t.$t("close")))])],1)],1)],1):t._e(),t.telegram?a("div",[t.msg.raw.text?a("TextMessage",{attrs:{message:t.msg}}):t.msg.raw.photo?a("TelegramPhotoMessage",{attrs:{message:t.msg}}):t.msg.raw.video||t.msg.raw.video_note||t.msg.raw.animation?a("TelegramVideoMessage",{attrs:{message:t.msg}}):t.msg.raw.location?a("TelegramLocationMessage",{attrs:{message:t.msg.raw}}):t.msg.raw.poll?a("TelegramPollMessage",{attrs:{message:t.msg.raw}}):t.msg.raw.sticker?a("TelegramStickerMessage",{attrs:{message:t.msg}}):t.msg.raw.document&&!t.msg.raw.animation?a("TelegramDocumentMessage",{attrs:{message:t.msg}}):t.msg.raw.contact?a("TelegramContactMessage",{attrs:{message:t.msg}}):t.msg.raw.audio||t.msg.raw.voice?a("TelegramAudioMessage",{attrs:{message:t.msg}}):t.msg.raw.game?a("TelegramGameMessage",{attrs:{game:t.msg.raw.game}}):a("UnSupportedMessage",{attrs:{message:t.msg}})],1):t.viber?a("div",["text"===t.message.raw.type?a("TextMessage",{attrs:{message:t.message}}):t.message.raw.location?a("ViberLocationMessage",{attrs:{message:t.message.raw}}):"picture"===t.message.raw.type?a("ViberPhotoMessage",{attrs:{message:t.message}}):"contact"===t.message.raw.type?a("ViberContactMessage",{attrs:{message:t.message}}):"video"===t.message.raw.type?a("ViberVideoMessage",{attrs:{message:t.message}}):"sticker"===t.message.raw.type?a("ViberStickerMessage",{attrs:{message:t.message}}):"file"===t.message.raw.type?a("ViberDocumentMessage",{attrs:{message:t.message}}):"url"===t.message.raw.type?a("TextMessage",{attrs:{text:"URL: "+t.message.raw.media}}):a("UnSupportedMessage",{attrs:{message:t.message}})],1):a("div",[t.message.raw.text&&t.message.raw.attachments.length<1?a("TextMessage",{attrs:{message:t.msg}}):a("UnSupportedMessage",{attrs:{message:t.msg}})],1),a("v-list-item-subtitle",{staticClass:"text-right"},[t.message.edits&&t.message.edits.length&&!t.edited?a("v-dialog",{attrs:{persistent:"",width:"500"},scopedSlots:t._u([{key:"activator",fn:function(e){e.on;return[a("span",{staticClass:"pointer",on:{click:function(e){e.stopPropagation(),t.modalEdits=!0}}},[t._v(t._s(t.$t("edit.edited"))+" ")])]}}],null,!1,3335309548),model:{value:t.modalEdits,callback:function(e){t.modalEdits=e},expression:"modalEdits"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("edit.edits")))]),a("v-card-text",[a("v-col",[a("EditedMessage",{attrs:{message:t.trueMessage,type:t.trueMessage.type}}),t._l(t.edits,(function(e,s){return t.msg.edits&&t.msg.edits.length&&(t.telegram||t.vk)?a("div",[a("EditedMessage",{key:s,attrs:{message:e,type:t.msg.type,editIndex:s,_id:t.message._id,name:t.trueMessage.raw.name||"no name"}})],1):t._e()}))],2)],1),a("v-card-actions",{attrs:{fixed:""}},[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:""},on:{click:function(e){t.modalEdits=!1}}},[t._v(t._s(t.$t("close")))])],1)],1)],1):t._e()],1)],1)],1)],1)},i=[]},"5b65":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("d178")),n=s.__importDefault(a("22b2")),o=a("d2d0");e.default={components:{Navbar:i.default,Snackbar:n.default,CookieLaw:o}}},"5ced":function(t,e,a){},"5d22":function(t,e,a){"use strict";a.r(e);var s=a("1e7b"),i=a("3d00");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"5d66":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493"));let c=class extends i.default{constructor(){super(...arguments),this.link="",this.loading=!1,this.loaded=!1,this.paused=!0,this.totalDuration=0,this.currtime=0}get title(){const t=this.$props.message.raw.audio;return t.performer?`${t.performer} — ${t.title}`:""+t.title}async loadAudio(){this.loading=!0;try{let t=await o.getFilesLink(this.$props.message);switch(t.status){case"ok":this.link=t.url,this.loaded=!0;break;case"tobig":r.setSnackbar({message:"errors.media.tobig",color:"error",active:!0});break}}catch(t){r.setSnackbar({message:"errors.media.loading",color:"error",active:!0})}finally{this.loading=!1}}get label(){if(this.$vuetify.breakpoint.width<340)return!1;let t=Math.floor(this.totalDuration/60),e=Math.floor(this.totalDuration%60);e<10&&(e="0"+String(e)),t<10&&(t="0"+String(t));let a=Math.floor(this.currtime/60),s=Math.floor(this.currtime%60);return s<10&&(s="0"+String(s)),a<10&&(a="0"+String(a)),`${a}:${s}/${t}:${e}`}_handlePlayPause(t){"pause"===t.type&&(this.paused=!0)}_handleLoaded(t){this.totalDuration=Number(this.$refs.audioController.duration)}_handlePlayingUI(t){this.currtime=this.$refs.audioController.currentTime}mounted(){this.$refs.audioController.addEventListener("pause",this._handlePlayPause),this.$refs.audioController.addEventListener("playing",this._handlePlayPause),this.$refs.audioController.addEventListener("timeupdate",this._handlePlayingUI),this.$refs.audioController.addEventListener("loadeddata",this._handleLoaded)}changeAudio(){const t=this.$refs.audioController;t.paused?(this.paused=!1,t.play()):t.pause()}types(){const t=this.$props.message.raw.audio||this.$props.message.raw.voice;return t.mime_type}setPosition(t){this.$refs.audioController.currentTime=t}get mobile(){return this.$vuetify.breakpoint.xsOnly?"center":"start"}};c=s.__decorate([n.default({props:["message"]})],c),e.default=c},"5dfc":function(t,e,a){"use strict";var s=a("1a12"),i=a.n(s);i.a},"5e5e":function(t,e,a){"use strict";var s=a("8d59"),i=a.n(s);i.a},"5f1a":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=a("689e");let r=class extends i.default{get messageText(){let t=this.$props.message.raw;if(t.text||t.caption)return t.text?o.l(t.text):t.caption?o.l(t.caption):void 0}getHandle(t){switch(this.$props.message.type){case"telegram":return"https://t.me/"+t;case"viber":return"https://viber.me/"+t;default:return"https://t.me/"+t}}};r=s.__decorate([n.default({props:["message"]})],r),e.default=r},6049:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493")),c=s.__importDefault(a("27d1"));let l=class extends i.default{constructor(){super(...arguments),this.link="",this.loading=!1,this.opened=!1}updated(){let t;t=this.$refs.videoplayer,t.pause()}async loadVideo(){this.loading=!0;try{let t=await o.getFilesLink(this.$props.message);switch(t.status){case"ok":this.link=t.url,this.opened=!0;break;case"tobig":r.setSnackbar({message:"errors.media.tobig",color:"error",active:!0});break}}catch(t){r.setSnackbar({message:"errors.media.loading",color:"error",active:!0})}finally{this.loading=!1}}};l=s.__decorate([n.default({props:["message"],components:{handledText:c.default}})],l),e.default=l},6108:function(t,e,a){"use strict";a.r(e);var s=a("7261"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"628a":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{dense:"",justify:t.mobile()}},[a("v-col",{staticClass:"col_nogrow",attrs:{md:"auto"}},[a("v-btn",{attrs:{fab:"",outlined:"",small:"",color:"indigo",loading:t.loading,disabled:t.disabled},on:{click:!1}},[a("v-icon",[t._v("mdi-account")])],1)],1),a("v-col",{attrs:{md:"auto"}},[a("div",{staticClass:"caption",attrs:{id:"contact-number"}},[t._v(t._s(t.message.raw.contact.phone_number))]),a("div",{staticClass:"caption"},[t._v(t._s(t.name(t.message.raw.contact)))])])],1)],1)],1)},i=[]},"62bf":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("handledText",{staticClass:"d-flex",attrs:{message:t.message}})},i=[]},6344:function(t,e,a){"use strict";a.r(e);var s=a("7774"),i=a("8159");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},6363:function(t,e,a){"use strict";a.r(e);var s=a("83b4"),i=a("8d63");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"656d":function(t,e,a){},"689e":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.l=void 0;const s=a("9ab4"),i=s.__importStar(a("0b16")),n=s.__importDefault(a("fbcd")),o=n.default();function r(t){const e=o.match(t)||[],a=[];if(!e.length)return[{type:"text",value:t}];let s=0;for(const o of e){s!==o.index&&a.push({type:"text",value:t.substr(s,o.index-s)});const e=i.parse(t.substr(o.index,o.lastIndex-o.index));a.push({type:/^@[\u0400-\u04FFa-zA-Z_\d]+$/u.test(o.url)?"handle":"link",url:o.url,value:e.hostname?`${e.hostname}${(e.pathname||"/").substr(1)||e.hash?"/...":""}`:e.href}),s=o.lastIndex}const n=e[e.length-1].lastIndex;return a.push({type:"text",value:t.substr(n,t.length-n)}),a}o.tlds(a("8e88")).tlds("onion",!0).set({fuzzyIP:!0}).add("@",{validate:(t,e,a)=>{const s=t.slice(e-1),i=/[\u0400-\u04FFa-zA-Z_\d]+/.exec(s);return i?i[0].length:0}}),e.l=r},"69ab":function(t,e,a){"use strict";a.r(e);var s=a("7233"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"6a01":function(t,e,a){"use strict";a.r(e);var s=a("cd00"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"6bc4":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"d-flex flex-column justify-center align-center text-center"},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("div",{staticClass:"headline pb-4"},[t._v(t._s(t.$t("home.info")))]),a("div",{staticClass:"title pb-4"},[t._v(t._s(t.$t("home.info2")))]),a("div",{staticClass:"title pb-4"},[t._v(t._s(t.$t("home.info3")))])]),a("div",{staticClass:"d-flex flex-column pt-4"},[a("vue-telegram-login",{attrs:{mode:"callback","telegram-login":"feedrbot",radius:"3",userpic:!1},on:{callback:t.onTelegramAuth}}),a("v-btn",{staticClass:"signin-button google-signin",on:{click:t.loginWithGoogle}},[a("span",[t._v(t._s(t.$t("home.google")))])]),a("v-btn",{staticClass:"signin-button facebook-signin",on:{click:t.loginWithFacebook}},[a("span",[t._v(t._s(t.$t("home.facebook")))])]),t.debug?a("div",[a("v-text-field",{attrs:{label:"Debug token login","append-icon":"send"},on:{"click:append":t.debugTokenLogin},model:{value:t.debugToken,callback:function(e){t.debugToken=e},expression:"debugToken"}})],1):t._e()],1),a("v-row",[a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:"/images/feedr.png","max-width":"400"}})],1),a("v-col",{staticClass:"d-flex justify-center"},[a("v-img",{attrs:{src:"/images/telegram.png","max-width":"400"}})],1)],1),a("v-flex",{staticClass:"pt-4",attrs:{xs12:"",md10:""}},[a("div",{staticClass:"title pb-4",domProps:{innerHTML:t._s(t.$t("home.contact"))}})]),a("v-flex",{staticClass:"text-left",attrs:{row:"","justify-center":""}},t._l(t.$t("feedback.reviews"),(function(e,s){return a("v-col",{key:s,attrs:{cols:"12",sm:"6"}},[a("v-card",[a("v-list-item",{staticClass:"px-4 pt-3"},[a("v-list-item-avatar",[a("img",{attrs:{src:"/avatars/"+e.username+".jpg"}})]),a("v-list-item-content",[a("a",{attrs:{href:"https://t.me/"+e.username}},[t._v("@"+t._s(e.username))])])],1),a("v-card-text",t._l(e.text.split("\n"),(function(e,s){return a("p",[t._v(t._s(e))])})),0)],1)],1)})),1),a("v-flex",{staticClass:"py-4"},[a("div",{staticClass:"caption"},[a("router-link",{attrs:{to:"/privacy"}},[t._v(t._s(t.$t("home.privacy")))])],1)])],1)])},i=[]},"6d0f":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("handledText",{attrs:{message:t.message}}),a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{dense:"",justify:t.mobile()}},[a("v-col",{staticClass:"col_nogrow",attrs:{md:"auto"}},[a("v-btn",{attrs:{fab:"",outlined:"",small:"",color:"indigo",loading:t.loading,disabled:t.disabled},on:{click:t.loadSticker}},[a("v-icon",[t._v("mdi-download")])],1)],1),a("v-col",{attrs:{md:"auto"}},[t.message.raw.document.file_name?a("div",{staticClass:"caption"},[t._v(t._s(t.message.raw.document.file_name))]):t._e(),a("div",{staticClass:"caption"},[t._v(t._s(t.filesize(t.message.raw.document.file_size)))])])],1)],1)],1)},i=[]},"6dd1":function(t,e,a){"use strict";a.r(e);var s=a("0728"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"6edc":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"mb-3 message-text"},[t.message.venue?a("div",[t._v(t._s(t.$t("place"))+": "+t._s(t.message.venue.title))]):t._e(),a("v-container",[a("v-row",{attrs:{justify:"start"}},[a("v-btn",{attrs:{outlined:"",color:"indigo"},on:{click:function(e){return t.openMap(t.message.location.latitude,t.message.location.longitude)}}},[t._v(t._s(t.buttonText(t.message))),a("v-icon",{attrs:{right:""}},[t._v("mdi-crosshairs-gps")])],1)],1)],1)],1)},i=[]},"6f68":function(t,e,a){"use strict";a.r(e);var s=a("5b65"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"6f9f":function(t,e,a){"use strict";a.r(e);var s=a("e7fa"),i=a("6108");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"6fe5":function(t,e,a){},7233:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493")),c=a("fe0b");let l=class extends i.default{constructor(){super(...arguments),this.loading=!1,this.token="",this.validtoken=!1,this.botType="",this.nextInvoice=!1}get amount(){if(this.nextInvoice&&this.nextInvoice.amount)return this.nextInvoice.amount/100}get amountCalc(){return this.amount?this.amount<=this.$store.state.bots.length-1?1:0:1}async save(){this.loading=!0;try{await o.postBot(this.token,this.botType),r.setBots(await o.getBots()),this.close()}catch(t){t&&t.response&&t.response.data?r.setSnackbarError(t.response.data):r.setSnackbarError("errors.bot.add")}finally{this.loading=!1}}async updateSubs(){this.loading=!0;const t=r.user();if(t)try{const{status:e,nextInvoice:a}=await o.getSubscriptionStatus();t.subscriptionStatus=e,t.nextInvoice=a,this.nextInvoice=a,r.setUser(t)}finally{this.loading=!1}else this.loading=!1}reset(){this.$refs.formAddBot.resetValidation()}validateForm(){setTimeout(this.revalidateForm,100)}revalidateForm(){this.$refs.formAddBot&&this.$refs.formAddBot.validate()}get tokenRules(){if("Telegram"===this.botType){const t=new RegExp(/[0-9]+:[a-zA-Z0-9_-]+/);return[t=>!!t||c.i18n.t("validation.needtext"),e=>t.test(e)||c.i18n.t("validation.tokenformat")]}if("VK"===this.botType){new RegExp(/\S+/);return[t=>!!t||c.i18n.t("validation.needtext")]}const t=new RegExp(/[a-zA-Z0-9_-]+-[a-zA-Z0-9_-]+-[a-zA-Z0-9_-]+/);return[t=>!!t||c.i18n.t("validation.needtext"),e=>t.test(e)||c.i18n.t("validation.vibertokenformat")]}};l=s.__decorate([n.default({props:{dialog:Boolean,close:Function},watch:{botType:"validateForm",token:"validateForm",dialog:async function(t){t&&(this.botType="Telegram",this.token="",setTimeout(this.reset,101),this.updateSubs())}}})],l),e.default=l},7261:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{constructor(){super(...arguments),this.winheight=0}get privacyStyle(){let t=this.winheight-64,e=t+"px";return{height:e,overflowY:"auto"}}WindowHeight(t){this.winheight=t.target.innerHeight}mounted(){this.winheight=window.innerHeight,this.$nextTick((function(){window.addEventListener("resize",this.WindowHeight)}))}};o=s.__decorate([n.default],o),e.default=o},"7261e":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"mb-2 red--text message-text"},[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("span",t._g({},s),[t._v(t._s(t.$t("message.unsupported")))])]}}])},[a("span",{staticStyle:{"white-space":"pre-line"}},[t._v(t._s(JSON.stringify(t.message.raw,void 0,2)))])])],1)},i=[]},"72aa":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.messages=void 0,e.messages={ru:{feedback:{reviews:[{name:"Kiku Reise",username:"Kiku_Reise",text:"Ведем вместе с командой канал в Телеграме по находкам с Алиэкспресса. И решили дать подписчикам возможность предлагать свои находки с отзывами, но так как в Телеграме нет такой предложки постов как в ВК, мы решили сделать это через какого-нибудь бота, чтобы всей команде были видны сообщения. И тут я вспомнил Feedr.\n\n          Довольно быстро подключил к сервису всю команду, интуитивно просто разобраться в его минималистичном интерфейсе. К слову, команда не покупала подписку сервиса, но доступ к сообщениям бота получила, и это меня очень порадовало. Не нужно платить за всю компанию или давать им доступ к своему аккаунту — можно просто пригласить в админы.\n          \n          Теперь будем всей командой отвечать подписчикам от одного лица, с сайта или в боте Телеграма. Спасибо большое за удобный Feedr :)"}]},title:"Feedr",home:{info:"Мульти-платформенный чат для компаний",info2:"Общайтесь с вашими клиентами в Телеграме, Вайбере и ВКонтакте в одном сервисе",info3:"Нужен бот для Телеграма, Вайбера или ВКонтакте? Зарегистрируйтесь сегодня и начните общаться с пользователями без промедления!",contact:'Все еще остались вопросы? <a href="mailto:feedr@borodutch.com">Напишите нам</a>.',google:"Зайти через Гугл",facebook:"Зайти через Фейсбук",privacy:"Политика конфиденциальности"},edit:{edited:"изменено",edits:"Изменения"},subscription:{subscription:"Подписка",status:"Статус подписки",active:"Активная",inactive:"Неактивная",failed:"Ошибка платежа",early:"Ранний адоптер",update:"Обновить реквизиты",price:"$1/бот месяц",earlyStatusText:"Вы ранний адоптер. Вы офигенны.",activeStatusText:"Вы подписчик. При отмене подписки, в конце вашего платежного периода будет списана плата за прошедший период, и после этого подписка будет отменена.",inactiveStatusText:"Чтобы получить доступ к Feedr, купите подписку.\nЦена подписки: $1 за одного бота в месяц.\nСумма списывается в конце месяца и расчитывается по максимальному кол-ву ботов в периоде.",failedStatusText:"Ошибка платежа: обновите, пожалуйста, свои платежные реквизиты",needSub:"Для дальнейшего доступа вам необходимо купить подписку, кликнув по кнопке справа вверху.",cancel:"Отменить подписку",nextInvoice:"Следующий платеж",nextPeriod:"Следующий период",failedPage:"✋ Ох! Что-то пошло не так. Может, попробуете еще раз? 😳",successPage:"✅ У вас получилось! Наслаждайтесь Feedr.",noSub:"Нет подписки"},merge:{header:"Объединить аккаунты",text1:"Вы можете объединить разные аккаунты (например, Фейсбук, Гугл, Телеграм) здесь. Просто залогиньтесь в аккаунты, используя кнопки ниже и аккаунты будут объединены. Осторожно: это действие нельзя обратить. Возможно, если вы зашли из России без VPN, вы не видите кнопку Телеграма — тогда либо зайдите через VPN, либо обратитесь к",text2:"в Телеграме и залогиньтесь через него."},backToFeedr:"Вернуться к Feedr",bot:{bot:"Бот",status:"Статус",owner:"Владелец",type:"Тип",greetings:"Приветствие",update:"Перезапустить бота",delete:"Удалить бота",reject:"Отказаться",about:"О боте"},message:{new:"Новое сообщение",unsupported:"Это сообщение пока не поддерживается"},chat:{nochats:"У вас нет ни одного чата",ban:"Заблокировать",banned:"Заблокирован",unban:"Разблокировать",noname:"Нет имени",profile:"Профиль",attachment:"Вложение",select:"Пожалуйста, выберите чат",invite:"Ни один пользователь не начал чат с этим ботом. Пожалуйста, сообщите своим пользователям, что бот доступен по адресу"},errors:{login:{facebook:"Не получилось зайти через Фейсбук",google:"Не получилось зайти через Гугл",telegram:"Не получилось зайти через Телеграм"},merge:{telegram:{exists:"Этот Телеграм аккаунт уже привязан к аккаунту другого пользователя.",linked:"К вашему аккаунту уже привязан Телеграм аккаунт."},google:{exists:"Этот Гугл аккаунт уже привязан к аккаунту другого пользователя.",linked:"К вашему аккаунту уже привязан Гугл аккаунт."},facebook:{exists:"Этот Фейсбук аккаунт уже привязан к аккаунту другого пользователя.",linked:"К вашему аккаунту уже привязан Фейсбук аккаунт."}},chat:{ban:"Не получилось забанить этого пользователя, ошибка API",unban:"Не получилось разбанить этого пользователя, ошибка API",not_found:"Чат не найден",no_access:"Нет доступа к чату"},media:{loading:"Ошибка загрузки медиа",tobig:"Ошибка Телеграм API: Размер файла слишком большой (>20мб)."},bot:{isBroken:"Бот сломан, попробуйте перезапустить его.",needSub:"У владельца бота нет активной подписки. Отправка сообщения отменена.",add:"Не получилось добавить бота, проверьте токен",edit:"Не получилось отредактировать бота",inviteAdmin:"Не получилось пригласить администратора в бота",getAdmins:"Не получилось получить список администраторов",message_rejected:"Не удалось отправить сообщение"}},media:{load:"Открыть",play:"Слушать"},notFound:"Страница не найдена",chatsList:"Выберите чат:",place:"Место",type:"Тип",avatar:"Аватар",location:"Карта",oldlink:"К сожалению, ссылка на файл истекла. Ограничение API Вайбера.",accept:"Принять",reject:"Отклонить",cookie:{message:"Этот вебсайт использует печеньки для предоставления лучшего сервиса",button:"Отличненько"},close:"Закрыть",save:"Сохранить",yes:"Да",no:"Нет",invite:"Пригласить",InviteMessage:"Вы были приглашены {inviter} стать администратором бота {bot}",currentMessage:"Текущее сообщение",cancel:"Отменить",botList:{title:"Боты",noBotsText:"Еще не было добавлено ни одного бота, пожалуйста, добавьте вашего первого бота в меню слева.",select:"Пожалуйста, выберите настройку в меню слева.",noSubText:"Для добавления ботов необходима активная подписка."},chatlist:"Список чатов",addBot:{title:"Добавить бота",token:"Токен бота",vkHelp:'Для того, чтобы получить API ключ сообщества, необходимо открыть раздел «Управление» вашего сообщества ВКонтакте, перейти в пункт «Настройки» —> «Работа с API», затем в разделе «Long Poll API» включить его, включить все события типа «Сообщение» и, наконец, в разделе «Ключи доступа» создать ключ с доступом к управлению сообществом и сообщениями.\n\nТакже рекомендуется включить в разделе "Сообщения" —> "Настройки для бота" опции "Возможности ботов" и "Добавить кнопку «Начать»".'},editBot:{title:"Редактировать приветствие",greeting:"Приветствие"},admin:{status:"Статус",name:"Имя",actions:"Действия",admin:"Администратор",invited:"Приглашен",admins:"Администраторы",type:"Тип аккаунта",invite:"Пригласить администратора",confirm:"Вы уверены, что хотите удалить администратора {name} из бота?",noadmins:"Нет администраторов"},deleteBot:{confirm:"Вы уверены, что хотите удалить бота {name}?"},rejectBot:{confirm:"Вы уверены, что хотите отказаться от администрирования бота {name}?"},validation:{needtext:"Это поле не может быть пустым.",notemail:"Это не имеил",notnumber:"Это поле должно быть числом",tomuchtext:"Длинна сообщения не может быть длиннее 4000 символов.",tokenformat:"Формат токена должен быть вида 12345678:AasdkasdWAKDa-wdLWsd",vibertokenformat:"Формат токена должен быть вида AbC231-DeF453-GJ675",greetings:{toomanychars:"Слишком много символов (>2000)"}},noBots:"У вас еще нет ботов, пожалуйста, добавьте бота, кликнув по кнопке справа вверху.",navbar:{bots:"Боты",logout:"Выйти"},themes:{dark:"Темная тема",on:"Вкл",off:"Выкл"},text:{copy:"Копировать ссылку",copied:"Ссылка скопирована"},you:"Вы",forwarded_message:{user_hidden:"Этот пользователь запретил доступ к информации о его аккаунте в пересланных сообщениях",channel_private:"Этот канал приватный",group_private:"Эта группа приватная",no_username:"У этого пользователя нет юзернейма",forwarded_from:"Переслано от:"},feed:"Лента",goBack:"Назад"},en:{feedback:{reviews:[{name:"Kiku Reise",username:"Kiku_Reise",text:"We're running a channel with the team in Telegram for Aliexpress finds. So we decided to give subscribers the opportunity to offer their findings with feedback, but since there is no such offer of posts in Telegram as in VK, we decided to do it through some bot so that the whole team could see the messages. And that's when I remembered Feedr.\n\n          Quite quickly connected the whole team to the service, intuitively just to understand its minimalistic interface. By the way, the team didn't buy a subscription to the service, but I got access to the bot's messages, and I was very happy about it. You don't have to pay for the whole company or give them access to your account - you can just invite them to the admins.\n          \n          Now we will respond as a team to subscribers from one person, from the site or in the Telegram bot. Thank you so much for the handy Feedr :)"}]},title:"Feedr",home:{info:"Multi-platform chat solution for companies",info2:"Connect with your customers and followers on Telegram, Viber and VK in one place",info3:"Need a Telegram, Viber or VK bot? Sign up and start talking to your customers right away!",contact:'Still got questions? <a href="mailto:feedr@borodutch.com">Contact sales</a>.',google:"Login with Google",facebook:"Login with Facebook",privacy:"Privacy policy"},edit:{edited:"edited",edits:"Edits"},subscription:{subscription:"Subscription",status:"Subscription status",active:"Active",inactive:"Inactive",failed:"Payment failed",early:"Early adopter",update:"Update card details",price:"$1/bot month",earlyStatusText:"You are an early adopter. You are breathtaking.",activeStatusText:"You are an active subscriber. If you cancel your subscription now, you will be charged in the end of the period.",inactiveStatusText:"To get access to Feedr, you need do buy a subscription.\nSubscription price is $1 per bot per month.\nThe amount is charged at the end of the month and is calculated by the maximum number of bots used in the period.",failedStatusText:"Error with payment or adding card, please, update the card details",needSub:"For further access you need to buy a subscription by clicking on the button in the top right.",cancel:"Cancel subscription",nextInvoice:"Next invoice",nextPeriod:"Next period",failedPage:"✋ Wait, something went wrong. Could you retry? 😳",successPage:"✅ You are all done! Enjoy the Feedr experience.",noSub:"No subscription"},merge:{header:"Merge accounts",text1:"You can merge multiple accounts (e.g. Facebook, Google, Telegram) here. Just login to the accounts with the buttons below and the accounts will be merged."},backToFeedr:"Back to Feedr",bot:{bot:"Bot",status:"Status",owner:"Owner",type:"Type",greetings:"Greetings",update:"Re-start bot",delete:"Delete bot",reject:"Refuse",about:"About"},message:{new:"New message",unsupported:"This message is not yet supported"},chat:{nochats:"You have no chats yet.",ban:"Ban",banned:"Banned",unban:"Unban",noname:"No name",profile:"Profile",attachment:"Attachment",select:"Please, select a chat",invite:"No users have started a chat with this bot. Please, let your users know that the bot is reachable at"},errors:{login:{facebook:"Could not login with Facebook",google:"Could not login with Google",telegram:"Could not login with Telegram"},merge:{telegram:{exists:"This Telegram account is already linked to another user's account.",linked:"A Telegram account is already linked to your account."},google:{exists:"This Google account is already linked to another user's account.",linked:"A Google account is already linked to your account."},facebook:{exists:"This Facebook account is already linked to another user's account.",linked:"A Facebook account is already linked to your account."}},chat:{ban:"Could not ban this user, API error",unban:"Could not unban this user, API error",not_found:"Chat not found",no_access:"You don't have access to this chat"},media:{loading:"Media loading error",tobig:"Telegram API Error: File size is too big for download (>20mb)."},bot:{isBroken:"Bot is broken, try restart it.",needSub:"Bot owner does not have an active subscription. Message sending is canceled.",add:"Could not add bot, please, check token",edit:"Could not edit bot",inviteAdmin:"Could not invite the admin to the bot",getAdmins:"Could not get the list of the admins",message_rejected:"Failed to send the message"}},media:{load:"Load",play:"Play"},notFound:"Page not found",chatsList:"Select chat:",place:"Place",type:"Type",avatar:"Avatar",location:"Map",oldlink:"Sorry, link to this media has expired. Viber API restriction.",accept:"Accept",reject:"Reject",cookie:{message:"This website uses cookies to provide you with better service",button:"Got it"},close:"Close",save:"Save",yes:"Yes",no:"No",invite:"Invite",InviteMessage:"You have been invited by {inviter} to become an administrator of {bot}",currentMessage:"Current message",cancel:"Cancel",botList:{title:"Bots",noBotsText:'No bots were added yet, please, use the "Add bot" option in tne left-side menu to add your first bot.',select:"Please, select an option in the left-side menu",noSubText:"You need an active subscription to add bots."},chatlist:"Chats",addBot:{title:"Add bot",token:"Bot token",vkHelp:'To obtain API key for the community go to the settings of the community, then to the API section, then turn on the "Long Poll API" setting as well as all the message types. After that create an API key with the access to control the community and to community messages.\n\nAlso we recommend turning on the "Start" button in the section "Messages" -> "Bot settings" -> "Bot abilities"'},editBot:{title:"Edit the greeting message",greeting:"Greeting message"},admin:{status:"Status",name:"Name",actions:"Actions",admin:"Administrator",invited:"Invited",admins:"Administrators",type:"Type of account",invite:"Invite the administrator",confirm:"Are you sure you want to delete {name} administrator from the bot?",noadmins:"No administrators"},deleteBot:{confirm:"Are you sure you want to delete {name}?"},rejectBot:{confirm:"Are you sure you want refuse to administer the bot {name}?"},validation:{needtext:"This field can't be empty",notemail:"This is not a valid email",notnumber:"This field should be number",tomuchtext:"Message length can't be longer than 4000 characters",tokenformat:"Token format should be 12345678:AasdkasdWAKDa-wdLWsd",vibertokenformat:"Token format should be AbC231-DeF453-GJ675",greetings:{toomanychars:"Too many characters (>2000)"}},noBots:"You do not have any bots yet, please, add one by clicking the button on the top right.",navbar:{logout:"Logout",bots:"Bots"},themes:{dark:"Dark theme",on:"On",off:"Off"},text:{copy:"Copy link",copied:"Link was copied"},you:"You",forwarded_message:{user_hidden:"This user disallowed adding links to his account in forwarded messages",channel_private:"This channel is private",group_private:"This group is private",no_username:"This user doesn't have a username",forwarded_from:"Forwarded from:"},feed:"Feed",messageInvite:"Write a message...",goBack:"Go back"}}},"72f0":function(t,e,a){"use strict";function s(t){const e=new Date(1e3*t);let a=String(e.getMinutes()),s=String(e.getHours());return`${("0"+s).slice(-2)}:${("0"+a).slice(-2)}`}Object.defineProperty(e,"__esModule",{value:!0}),e.unixToDate=void 0,e.unixToDate=s},7402:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=a("97e5"),o=s.__importStar(a("f493")),r=s.__importStar(a("97e5")),c=s.__importDefault(a("2fe1")),{vueTelegramLogin:l}=a("d226"),d=s.__importStar(a("59ca"));a("ea7b");let u=class extends i.default{constructor(){super(...arguments),this.debugToken=""}get debug(){return!!Object({NODE_ENV:"production",VUE_APP_API:"https://backend.feedr.chat",VUE_APP_SOCKETS:"https://ws.feedr.chat",VUE_APP_STRIPE_PK:"pk_live_mqKYe2ecaT5uh4ub1ZA5QEM000M01z6aCD",BASE_URL:"/"}).VUE_APP_DEV}async debugTokenLogin(){try{console.log(this.debugToken);const t=await n.loginToken(this.debugToken);o.setUser(t),sockets.send("authorization",t.token)}catch(t){o.setSnackbarError(t)}}async mounted(){try{const e=await d.auth().getRedirectResult();if(e.credential){const a=e.credential.accessToken,s=await n.loginGoogle(a);o.setUser(s),sockets.send("authorization",s.token);try{o.setBots(await r.getBots())}catch(t){o.setSnackbarError(t.message)}finally{this.$router.replace("app")}}}catch(e){o.setSnackbarError(e.message)}}async loginWithGoogle(){const t=new d.auth.GoogleAuthProvider;t.addScope("email"),t.addScope("profile"),await d.auth().signInWithRedirect(t)}async loginWithFacebook(){const t=new d.auth.FacebookAuthProvider;t.addScope("email");try{const a=await d.auth().signInWithPopup(t),s=a.credential.accessToken;await n.loginFacebook(s);try{o.setBots(await r.getBots())}catch(e){o.setSnackbarError(e.message)}finally{this.$router.replace("app")}}catch(a){o.setSnackbarError(a.message)}}async onTelegramAuth(t){try{const a=await n.loginTelegram(t);o.setUser(a),sockets.send("authorization",a.token);try{o.setBots(await r.getBots())}catch(e){o.setSnackbarError(e.message)}finally{this.$router.replace("app")}}catch(e){o.setSnackbar({message:"errors.login.telegram",color:"error",active:!0})}}};u=s.__decorate([c.default({components:{vueTelegramLogin:l}})],u),e.default=u},7774:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("handledText",{attrs:{message:t.message}}),a("v-container",[a("v-row",{attrs:{justify:"start"}},[t.hided?a("div",[t._v(t._s(t.$t("oldlink")))]):a("v-btn",{attrs:{outlined:"",color:"indigo"},on:{click:t.loadPhoto}},[t._v(t._s(t.$t("media.load"))),a("v-icon",{attrs:{right:""}},[t._v("mdi-file-image-outline")])],1)],1)],1),a("vue-easy-lightbox",{attrs:{visible:t.opened&&!t.expired,imgs:[t.message.raw.media]},on:{hide:t.hide}})],1)},i=[]},"794c":function(t,e,a){"use strict";a.r(e);var s=a("450e"),i=a("bba8");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"7ac7":function(t,e,a){"use strict";a.r(e);var s=a("bfb3"),i=a("6dd1");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"7afb":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{constructor(){super(...arguments),this.link="",this.loading=!1,this.disabled=!1}mobile(){return this.$vuetify.breakpoint.xsOnly?"center":"start"}};o=s.__decorate([n.default({props:["message"]})],o),e.default=o},"7c39":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493")),c=s.__importDefault(a("27d1"));let l=class extends i.default{constructor(){super(...arguments),this.link="",this.loading=!1,this.opened=!1}hide(){this.opened=!1}async loadPhoto(){this.loading=!0;try{this.link=await o.getFilesLink(this.$props.message),this.opened=!0}catch(t){r.setSnackbar({message:"errors.media.loading",color:"error",active:!0})}finally{this.loading=!1}}};l=s.__decorate([n.default({props:["message"],components:{handledText:c.default}})],l),e.default=l},"7d6d":function(t,e,a){"use strict";var s=a("4b9b"),i=a.n(s);i.a},"7f7f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importStar(a("59ca"));(function(){const t={apiKey:"AIzaSyAG7Fur87oTIxz_UwDaNCfRnu5JzdkKQdU",authDomain:"feedr-fadab.firebaseapp.com",databaseURL:"https://feedr-fadab.firebaseio.com",projectId:"feedr-fadab",storageBucket:"feedr-fadab.appspot.com",messagingSenderId:"869867247107",appId:"1:869867247107:web:6a20561e0391db8fc9e036",measurementId:"G-SC1S998B17"};try{i.initializeApp(t)}catch(e){}})()},8159:function(t,e,a){"use strict";a.r(e);var s=a("a59b"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},8238:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.mobileChatOpened?a("nav",[a("BotsDialog",{attrs:{dialog:t.botsDialog,close:t.closeBotsDialog}}),a("Checkout",{attrs:{dialog:t.subscriptionDialog,close:t.closeSubscription}}),a("Merge",{attrs:{dialog:t.mergeDialog,close:t.closeMerge}}),a("div",{staticClass:"d-flex justify-space-between justify-center align-center"},[a("router-link",{attrs:{to:t.$store.state.user?"/app":"/"}},[a("div",{staticClass:"navbar-toolbar-title"},[t.$store.state.user?a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("div",{staticClass:"d-flex"},[a("span",t._g({staticClass:"navbar-toolbar-title-text"},s),[t._v(t._s(t.$t("title")))]),a("span",{staticClass:"navbar-toolbar-circle"})])]}}],null,!1,3162307055)},[a("span",[t._v(t._s(t.$store.state.user.name)+", "+t._s(t.$store.state.user.email||t.$store.state.user.facebookId||t.$store.state.user.telegramId))])]):a("div",{staticClass:"d-flex"},[a("span",{staticClass:"navbar-toolbar-title-text"},[t._v(t._s(t.$t("title")))]),a("span",{staticClass:"navbar-toolbar-circle"})])],1)]),a("v-spacer"),t.$store.state.user&&"active"!==t.$store.state.user.subscriptionStatus&&"earlyAdopter"!==t.$store.state.user.subscriptionStatus?a("v-chip",{attrs:{color:"error"}},[t._v(t._s(t.$t("subscription.noSub")))]):t._e(),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{text:"",icon:"",color:"grey"}},s),[t._v(t._s(t.currentLocale.icon))])]}}],null,!1,241366704)},[a("v-list",t._l(t.locales,(function(e){return a("v-list-item",{key:e.code,on:{click:function(a){return t.changeLanguage(e.code)}}},[a("v-list-item-title",[t._v(t._s(e.icon))])],1)})),1)],1),a("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({attrs:{text:"",icon:"",color:"grey"}},s),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!1,2299044829)},[a("v-list",[t.$store.state.user?a("v-list-item",{on:{click:function(e){e.stopPropagation(),t.botsDialog=!0}}},[a("v-list-item-title",[t._v(t._s(t.$t("navbar.bots")))])],1):t._e(),t.$store.state.user?a("v-list-item",{on:{click:function(e){e.stopPropagation(),t.mergeDialog=!0}}},[a("v-list-item-title",[t._v(t._s(t.$t("merge.header")))])],1):t._e(),t.$store.state.user?a("v-list-item",{on:{click:function(e){e.stopPropagation(),t.subscriptionDialog=!0}}},[a("v-list-item-title",[t._v(t._s(t.$t("subscription.subscription")))])],1):t._e(),a("v-list-item",{on:{click:t.logout}},[a("v-list-item-title",[t._v(t._s(t.$t("navbar.logout")))])],1)],1)],1)],1)],1):t._e()},i=[]},8247:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.updateFeedCounter=e.feedMessageInsert=e.feedMessagesInsert=e.feedChatUpdate=void 0;const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("cd49")),o=s.__importStar(a("f493")),r=a("f493"),c={async socket_chats_paginated(t,e){const a=e[1],s=e[2];for(const n of r.store.state.bots)if(n._id===a){if(s.length<1)return;if(!n.chats)return;if(s.length<20){i.default.set(n,"no_more_chats",!0);const t=await Promise.all(s.filter(t=>!n.chats.find(e=>{if(t._id===e._id)return e})));let e=await t.reduce((t,e)=>t.updatedAt<e.updatedAt?t:e);return i.default.set(n,"oldestLoadedChat",e),i.default.set(n,"chatsloading",!1),void o.addChats(t,a)}const t=await Promise.all(s.filter(t=>!n.chats.find(e=>{if(t._id===e._id)return e})));let e=await t.reduce((t,e)=>t.updatedAt<e.updatedAt?t:e);i.default.set(n,"oldestLoadedChat",e),i.default.set(n,"chatsloading",!1),o.addChats(t,a)}},async socket_requested_chat(t,e){const a=e[1],s=e[2],c=e[3];if(s)return r.setSnackbarError(s),void n.default.$router.replace("/app");if(!s&&!a)return r.setSnackbarError("errors.chat.not_found"),void n.default.$router.replace("/app");if(a){let t=0;await Promise.all(r.store.state.bots.filter((e,a)=>{if(c===e._id)return t=a,e})),r.store.state.botTab=t,a.requested=!0;for(const e of r.store.state.bots)if(e._id===c){if(!e.chats)return;o.addChats(a,c),i.default.set(e,"selected_chat",a)}n.default.$router.replace("/app")}else;},async socket_chats(t,e){const a=e[1],s=e[2];for(const n of r.store.state.bots)if(n._id===a&&s.length>0){let t=await s.reduce((t,e)=>t.updatedAt<e.updatedAt?t:e);i.default.set(n,"oldestLoadedChat",t),o.addChats(s,a)}if("chat"===n.default.$route.name){const t=s.filter(t=>t._id===n.default.$route.params.id);if(await Promise.all(t),!(t.length<1)){let e=0;const s=await Promise.all(r.store.state.bots.filter((t,s)=>{if(a===t._id)return e=s,t}));r.store.state.botTab=e;for(const a of r.store.state.bots)s&&a._id===s[0]._id&&i.default.set(a,"selected_chat",t[0]);return void n.default.$router.replace("/app")}const e=r.store.state.bots.filter(t=>t.chats);await Promise.all(e),e.length===r.store.state.bots.length&&sockets.send("request_chat",{id:n.default.$route.params.id})}},async socket_updated_chat(t,e){const a=e;for(const s of r.store.state.bots)if(s._id===a.bot){if(!s.chats)return;for(const t in s.chats)if(l(a),s.chats[Number(t)]._id===a._id){let e=s.chats[t];if(e.updatedAt>a.updatedAt)return;a.hasOwnProperty("bot_counter")&&(i.default.set(s,"unread",a.bot_counter),f()),e=Object.assign(e,a),s.chats.splice(Number(t),1,e)}return}},async socket_bot_counter(t,e){const a=e;for(const s of r.store.state.bots)if(s._id===a[1].id)return void i.default.set(s,"unread",a[1].unread)},socket_messages(t,e){const a=e[1].bot,s=e[1].chat,i=e[2],n=e[3];for(const c of r.store.state.bots)if(c._id===a){d(s,i,n);for(const t of c.chats||[])if(t._id===s){if(n){if(i.length<1)return void(r.store.state.nomoremessages=!0);o.addMessages(i,s,a)}else o.addMessages(i,s,a);return void(r.store.state.loading.chatloading=!1)}return}},async socket_new_message(t,e){e.frombot||(e.unread=!0);for(const a of r.store.state.bots)if(a._id===e.bot){if(!a.chats)return;for(const t of a.chats||[])if(t._id===e.chat)return u(e.chat,e),o.addMessages(e,e.chat,e.bot),void i.default.set(t,"lastMessage",e);return}},async socket_new_chat(t,e){const a=e[0],s=e[1];for(const i of r.store.state.bots)if(i._id===s){let t;i.chats?(t=i.chats.filter(t=>t===a),await Promise.all(t)):t=!1,(!t||t.length<1)&&(o.addChats(a,s),o.addChats(a,"__feed"))}},async socket_updated_message(t,e){const a=e[0],s=e[1],i=e[2];for(const n of r.store.state.bots)if(n.selected_chat&&n.chats&&n.selected_chat._id===s)for(const t of n.chats)if(t._id===s&&t.messages)for(let e of t.messages)e._id===a&&(e.edits=i)},socket_message(t,e){let a=e instanceof Array?e[0]:e;switch(a){case"chats":r.store.commit("socket_chats",e);break;case"messages":r.store.commit("socket_messages",e);break;case"bot_counter":r.store.commit("socket_bot_counter",e);break;case"chats_paginated":r.store.commit("socket_chats_paginated",e);break;case"requested_chat":r.store.commit("socket_requested_chat",e);break;case"error":r.setSnackbarError("errors.bot."+e[1]);break;default:break}},socket_connect(t){const e=r.user();e&&(sockets.send("authorization",e.token),r.bots().forEach(t=>{sockets.send("join",t._id)}))}};function l(t){if("feed"===r.store.state.bots[0].botType)for(const e in r.store.state.bots[0].chats)if(r.store.state.bots[0].chats[Number(e)]._id===t._id){let a=r.store.state.bots[0].chats[Number(e)];if(a.updatedAt>t.updatedAt)return;a=Object.assign(a,t),r.store.state.bots[0].chats.splice(Number(e),1,a)}}function d(t,e,a){if("feed"===r.store.state.bots[0].botType)for(const s of r.store.state.bots[0].chats||[])if(s._id===t){if(a){if(e.length<1)return void(r.store.state.nomoremessages=!0);o.addMessages(e,t,"__feed")}else o.addMessages(e,t,"__feed"),i.default.set(s,"messages",e);return void(r.store.state.loading.chatloading=!1)}}function u(t,e){if("feed"===r.store.state.bots[0].botType)for(const a of r.store.state.bots[0].chats||[])if(a._id===t)return a.messages?(o.addMessages(e,t,"__feed"),void i.default.set(a,"lastMessage",e)):(sockets.send("request_messages",{bot:a.bot,chat:a._id}),void i.default.set(a,"lastMessage",e))}function f(){let t=0;r.store.state.bots.map((e,a)=>{a&&(t+=e.unread)}),r.store.state.bots[0].unread=t}e.default={mutations:c},e.feedChatUpdate=l,e.feedMessagesInsert=d,e.feedMessageInsert=u,e.updateFeedCounter=f},8302:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-container pa-4"},[a("v-layout",{staticClass:"text-xs-center",attrs:{column:"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("div",{staticClass:"headline pb-4"},[a("h4",{staticClass:"pa-4"},[t._v(t._s(t.$t("subscription.failedPage")))]),a("v-row",{attrs:{justify:"center"}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$router.replace("app")}}},[t._v(t._s(t.$t("backToFeedr")))])],1)],1)])],1)],1)},i=[]},"83b4":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"start"}},[t.opened?t._e():a("v-btn",{attrs:{outlined:"",color:"indigo",loading:t.loading},on:{click:t.loadSticker}},[t._v(t._s(t.$t("media.load"))),a("v-icon",{attrs:{right:""}},[t._v("mdi-sticker-emoji")])],1)],1),a("v-row",[t.opened?a("v-img",{attrs:{src:t.message.raw.media,contain:"",width:"256px",height:"256px"}}):t._e()],1)],1)],1)},i=[]},8412:function(t,e,a){"use strict";a.r(e);var s=a("c1f1"),i=a("4052");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("7d6d");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},8429:function(t,e,a){"use strict";a.r(e);var s=a("5abf"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},8468:function(t,e,a){"use strict";var s=a("ea62"),i=a.n(s);i.a},8478:function(t,e,a){"use strict";a.r(e);var s=a("7c39"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"85ec":function(t,e,a){},"88dd":function(t,e,a){"use strict";a.r(e);var s=a("b6f1"),i=a("fa07");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("18be");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},8975:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"mb-3 message-text"},[a("v-container",[a("v-row",{attrs:{justify:"start"}},[a("v-btn",{attrs:{outlined:"",color:"indigo"},on:{click:function(e){return t.openMap(t.message.location.lat,t.message.location.lon)}}},[t._v(t._s(t.$t("location"))),a("v-icon",{attrs:{right:""}},[t._v("mdi-crosshairs-gps")])],1)],1)],1)],1)},i=[]},"8be4":function(t,e,a){},"8c3e":function(t,e,a){},"8c54":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column app-view-bots-messages-container",on:{scroll:t.chatPagination}},[!t.BotsLoading&&t.activeBot&&t.activeBot.name&&!this.$vuetify.breakpoint.smAndDown?a("div",{staticClass:"d-flex app-view-bot-message-title-container justify-space-between"},[a("div",{staticClass:"app-view-bot-message-title-botname"},[t._v(t._s(t.activeBot.name))]),a("div",{staticClass:"app-view-bot-message-title-unread"},[t._v(t._s(t.activeBot.unread))])]):t._e(),this.$vuetify.breakpoint.smAndDown?t._e():a("div",{staticClass:"app-view-bot-divier"}),t._l(t.activeBot.chats,(function(e){return a("div",{key:e._id,staticClass:"d-flex app-view-bot-message-chats align-center app-view-bot-container",class:t.activeChat._id===e._id?"app-view-bot-container-active":"",on:{click:function(a){return t.openChat(e)}}},[a("div",{staticClass:"app-view-user-avatar-circle"}),a("div",{staticClass:"d-flex flex-column app-view-bot-container-text app-view-max-width"},[a("div",{staticClass:"d-flex justify-space-between"},[a("div",{staticClass:"d-flex app-view-bot-container-text"},[a("div",{staticClass:"app-view-bot-container-text app-view-bot-container-text"},[t._v(t._s(e.raw.first_name)+" "+t._s(e.raw.last_name))])]),e.lastMessage?a("div",{staticClass:"app-view-bot-container-timestamp ml-2"},[t._v(t._s(t.beautifylDate(e.lastMessage.raw.date)))]):t._e()]),a("div",{staticClass:"d-flex justify-space-between"},[a("div",{staticClass:"d-flex"},[e.lastMessage&&e.raw.id!==e.lastMessage.raw.from.id?a("div",{staticClass:"app-view-bot-message-text app-view-bot-container-text mr-1 chat-list-you"},[t._v(t._s(t.$t("you"))+":")]):t._e(),e.lastMessage?a("div",{staticClass:"app-view-bot-message-text app-view-bot-container-text"},[t._v(t._s(e.lastMessage.raw.text))]):t._e()]),e.unread>0?a("div",{staticClass:"app-view-bot-container-person-unread"},[t._v(t._s(e.unread>99?"99+":e.unread))]):t._e()])])])}))],2)},i=[]},"8d59":function(t,e,a){},"8d63":function(t,e,a){"use strict";a.r(e);var s=a("31e8"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"8e44":function(t,e,a){"use strict";a.r(e);var s=a("a02b"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},9142:function(t,e,a){"use strict";a.r(e);var s=a("cbe3"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},9163:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"600px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",{ref:"formAddBot",attrs:{onSubmit:"return false;"},model:{value:t.validtoken,callback:function(e){t.validtoken=e},expression:"validtoken"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("addBot.title")))]),a("v-card-text",["VK"===t.botType?a("div",{staticClass:"message-text"},[t._v(t._s(t.$t("addBot.vkHelp")))]):t._e(),"active"!==t.$store.state.user.subscriptionStatus||t.loading?t._e():a("div",[t._v(t._s(t.$t("subscription.nextInvoice"))+" ($"+t._s(t.amount||0)+"): +$"+t._s(t.amountCalc)),a("br"),t._v(t._s(t.$t("subscription.nextPeriod"))+" ($"+t._s(t.$store.state.bots.length-1)+"): +$1")]),a("v-row",[a("v-col",{attrs:{cols:"7",md:"4"}},[a("v-select",{staticClass:"addbot__select-field",attrs:{dense:"",items:[{text:"Telegram",value:"Telegram"},{text:"Viber",value:"Viber"},{text:"VK",value:"VK"}],"item-value":"Telegram",label:t.$t("bot.type"),required:"",outlined:""},model:{value:t.botType,callback:function(e){t.botType=e},expression:"botType"}})],1),a("v-col",{attrs:{cols:"12",md:"8"}},[a("v-text-field",{staticClass:"addbot__text-field",attrs:{label:t.$t("addBot.token"),rules:t.tokenRules,"single-line":""},model:{value:t.token,callback:function(e){t.token=e},expression:"token"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:"",loading:t.loading,color:"error"},on:{click:t.close}},[t._v(t._s(t.$t("cancel")))]),a("v-btn",{attrs:{text:"",loading:t.loading,disabled:!t.validtoken,color:"blue"},on:{click:t.save}},[t._v(t._s(t.$t("save")))])],1)],1)],1)],1)},i=[]},"918c":function(t,e,a){"use strict";a.r(e);var s=a("d7ff"),i=a("13e2");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("1145");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},9500:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-container pa-4"},[a("v-layout",{staticClass:"text-xs-center",attrs:{column:"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("div",{staticClass:"headline pb-4"},[a("h4",{staticClass:"pa-4"},[t._v(t._s(t.$t("subscription.successPage")))]),a("v-row",{attrs:{justify:"center"}},[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.$router.replace("app")}}},[t._v(t._s(t.$t("backToFeedr")))])],1)],1)])],1)],1)},i=[]},9572:function(t,e,a){"use strict";a.r(e);var s=a("33d4"),i=a("17d6");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},9703:function(t,e,a){"use strict";a.r(e);var s=a("fde4"),i=a("ed6f");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"971b":function(t,e,a){"use strict";a.r(e);var s=a("3486"),i=a("1b12");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("0431");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"971f":function(t,e,a){"use strict";a.r(e);var s=a("263c"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},9790:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importDefault(a("27d1"));let r=class extends i.default{};r=s.__decorate([n.default({props:["message"],components:{handledText:o.default}})],r),e.default=r},"979f":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},"97a7":function(t,e,a){"use strict";a.r(e);var s=a("c224"),i=a("8478");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"97e5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cancelSubscription=e.getSubscriptionStatus=e.getStripeSessionId=e.unbanChat=e.getFilesLink=e.banChat=e.deleteBot=e.BotChangeGreetings=e.updateBot=e.getBots=e.AcceptInvite=e.RejectAdmin=e.RejectBot=e.RejectInvite=e.GetInvitesAndAdministrators=e.BotInviteAdmin=e.postBot=e.mergeGoogle=e.mergeFacebook=e.mergeTelegram=e.loginToken=e.loginTelegram=e.loginGoogle=e.loginFacebook=void 0;const s=a("9ab4"),i=s.__importDefault(a("bc3a")),n=s.__importStar(a("f493")),o="https://backend.feedr.chat";async function r(t){return(await i.default.post(o+"/login/facebook",{accessToken:t})).data}async function c(t){return(await i.default.post(o+"/login/google",{accessToken:t})).data}async function l(t){return(await i.default.post(o+"/login/telegram",t)).data}async function d(t){return(await i.default.post(o+"/login/token",{token:t})).data}async function u(t){return(await i.default.post(o+"/merge/telegram",t,{headers:O()})).data}async function f(t){return(await i.default.post(o+"/merge/facebook",{accessToken:t},{headers:O()})).data}async function v(t){return(await i.default.post(o+"/merge/google",{accessToken:t},{headers:O()})).data}async function m(t,e){return(await i.default.post(o+"/bot",{token:t,type:e},{headers:O()})).data}async function p(t,e,a){return(await i.default.post(`${o}/invite/${t}`,{userid:e,usertype:a},{headers:O()})).data}async function b(t){return(await i.default.get(`${o}/invite/${t}`,{headers:O()})).data}async function g(t){return(await i.default.delete(`${o}/invite/${t}`,{headers:O()})).data}async function _(t){return(await i.default.delete(`${o}/bot/reject/${t}`,{headers:O()})).data}async function h(t,e,a){return(await i.default.put(`${o}/admin/${t}`,{bot:e,type:a},{headers:O()})).data}async function y(t){return(await i.default.put(`${o}/invite/${t}`,null,{headers:O()})).data}async function w(){try{n.setBotsLoading(!0);const t=(await i.default.get(o+"/bot",{headers:O()})).data;return n.setBotsLoading(!1),t}catch(t){n.setBotsLoading(!0),n.setSnackbar({message:t,color:"error",active:!0})}}async function k(t){return(await i.default.put(`${o}/bot/${t._id}`,{action:"update"},{headers:O()})).data}async function x(t,e){return(await i.default.put(`${o}/bot/${t}`,{action:"changeGreetings",greetingMessage:e},{headers:O()})).data}async function $(t){return(await i.default.delete(`${o}/bot/${t._id}`,{headers:O()})).data}async function C(t){return(await i.default.put(`${o}/chat/${t._id}`,{action:"ban"},{headers:O()})).data}async function j(t){return t.editIndex?(await i.default.get(`${o}/message/${t._id}/${t.editIndex}`,{headers:O()})).data:(await i.default.get(`${o}/message/${t._id}`,{headers:O()})).data}async function S(t){return(await i.default.put(`${o}/chat/${t._id}`,{action:"unban"},{headers:O()})).data}async function T(){return(await i.default.get(o+"/subscription/session/default",{headers:O()})).data}async function D(){return(await i.default.get(o+"/subscription/status",{headers:O()})).data}async function M(){return(await i.default.post(o+"/subscription/cancel",void 0,{headers:O()})).data}function O(){const t=n.user();return t&&t.token?{token:t.token}:void 0}e.loginFacebook=r,e.loginGoogle=c,e.loginTelegram=l,e.loginToken=d,e.mergeTelegram=u,e.mergeFacebook=f,e.mergeGoogle=v,e.postBot=m,e.BotInviteAdmin=p,e.GetInvitesAndAdministrators=b,e.RejectInvite=g,e.RejectBot=_,e.RejectAdmin=h,e.AcceptInvite=y,e.getBots=w,e.updateBot=k,e.BotChangeGreetings=x,e.deleteBot=$,e.banChat=C,e.getFilesLink=j,e.unbanChat=S,e.getStripeSessionId=T,e.getSubscriptionStatus=D,e.cancelSubscription=M},"9b54":function(t,e,a){"use strict";a.r(e);var s=a("62bf"),i=a("9baa");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},"9baa":function(t,e,a){"use strict";a.r(e);var s=a("9790"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},"9d2f":function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[t.message.raw.caption?a("div",[t._v(t._s(t.message.raw.caption))]):t._e(),t.message.raw.caption?a("br"):t._e(),t.message.raw.audio&&t.message.raw.audio.title?a("div",[t._v(t._s(t.title))]):t._e(),a("v-container",{attrs:{fluid:""}},[t.loaded?t._e():a("v-row",{staticClass:"row_nowrap",attrs:{justify:t.mobile}},[a("v-col",[a("v-btn",{attrs:{outlined:"",color:"indigo",loading:t.loading},on:{click:t.loadAudio}},[t._v(t._s(t.$t("media.play"))),a("v-icon",{attrs:{right:""}},[t._v("mdi-music")])],1)],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{staticClass:"col_nogrow",attrs:{md:"auto"}},[t.loaded?a("v-btn",{attrs:{outlined:"",color:"indigo",icon:""},on:{click:t.changeAudio}},[t.paused?a("v-icon",[t._v("mdi-play")]):a("v-icon",[t._v("mdi-pause")])],1):t._e()],1),a("v-col",{attrs:{md:"8"}},[t.loaded?a("v-slider",{attrs:{min:0,"inverse-label":"",label:t.label,max:t.totalDuration},on:{change:t.setPosition},model:{value:t.currtime,callback:function(e){t.currtime=e},expression:"currtime"}}):t._e()],1),a("audio",{ref:"audioController"},[t.loaded?a("source",{attrs:{src:t.link,type:t.types()}}):t._e()])],1)],1)],1)},i=[]},a02b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{};o=s.__decorate([n.default],o),e.default=o},a3d4:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-snackbar",{attrs:{app:"",timeout:4e3,top:"",color:t.color,flat:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("span",[t._v(t._s(t.text))]),a("v-btn",{attrs:{color:"white",text:""},on:{click:function(e){t.active=!1}}},[t._v(t._s(t.$t("close")))])],1)},i=[]},a455:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493")),{vueTelegramLogin:c}=a("d226");let l=class extends i.default{constructor(){super(...arguments),this.loading=!1}async onTelegramAuth(t){try{const e=await o.mergeTelegram(t);e&&r.setUser(e)}catch({response:e}){r.setSnackbar({message:e.data||"Error with api",color:"error",active:!0})}}async onGoogleSignInSuccess(t){try{const e=await o.mergeGoogle(t.getAuthResponse().id_token);e&&r.setUser(e)}catch({response:e}){r.setSnackbar({message:e.data||"Error with api",color:"error",active:!0})}}onGoogleSignInError(t){r.setSnackbar({message:"errors.login.google",color:"error",active:!0})}onFacebookSignInSuccess(t){FB.api("/me",async e=>{try{const e=await o.mergeFacebook(t.authResponse.accessToken);e&&r.setUser(e)}catch({response:t}){r.setSnackbar({message:t.data||"Error with api",color:"error",active:!0})}})}onFacebookSignInError(t){r.setSnackbar({message:"errors.login.facebook",color:"error",active:!0})}get user(){return this.$store.state.user}get googleClientId(){return"302048926858-k211pbhb02t32gc1osqbh2q3sv3u5h9g.apps.googleusercontent.com"}};l=s.__decorate([n.default({components:{vueTelegramLogin:c},props:["dialog","close"]})],l),e.default=l},a575:function(t,e,a){"use strict";a.r(e);var s=a("0115"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},a59b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importDefault(a("27d1"));let r=class extends i.default{constructor(){super(...arguments),this.opened=!1,this.hided=!1}get expired(){const t=new URL(this.$props.message.raw.media),e=t.searchParams.get("Expires");return 1e3*Number(e)<Number(new Date)}hide(){this.opened=!1}async loadPhoto(){this.opened=!0,this.expired&&(this.hided=!0)}};r=s.__decorate([n.default({props:["message"],components:{handledText:o.default}})],r),e.default=r},a71f:function(t,e,a){"use strict";a.r(e);var s=a("bf79"),i=a("02ac");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},a77e:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"mb-3"},[a("vue-poll",t._b({},"vue-poll",t.Poll(t.message.poll),!1))],1)},i=[]},acd0:function(t,e,a){},b1f4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},b6f1:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.chat&&t.chat.messages?a("div",{staticClass:"d-flex flex-column chat-preview-main-container chat-preview-limit-message-size"},[a("div",{staticClass:"d-flex flex-column"},[t.$vuetify.breakpoint.smAndDown?a("div",{staticClass:"d-flex align-self-start chat-preview-goback-container",on:{click:function(e){return t.goBack()}}},[a("img",{attrs:{src:"icons/goback.svg"}}),a("div",{staticClass:"chat-preview-goback"},[t._v(t._s(t.$t("goBack")))])]):t._e(),a("div",{staticClass:"d-flex chat-preview-userbar"},[a("div",{staticClass:"chat-preview-avatar-circle"}),a("div",{staticClass:"d-flex chat-preview-username"},[a("div",{staticClass:"app-view-bot-container-text"},[t._v(t._s(t.chat.raw.first_name)+" "+t._s(t.chat.raw.last_name))])])])]),t.$vuetify.breakpoint.smAndDown?t._e():a("div",{staticClass:"app-view-bot-divier"}),a("div",{staticClass:"chat-preview-message-area d-flex flex-column"},t._l(t.messageInCorrectOrder,(function(e){return a("div",{staticClass:"d-flex flex-column chat-preview-messagebox"},[a("div",{staticClass:"d-flex app-view-bot-container-text chat-preview-message-name",class:t.isUser(e)?"align-self-start":"align-self-end"},[a("div",{staticClass:"app-view-bot-container-text"},[t._v(t._s(t.name(e.raw.from.first_name))+" "+t._s(t.name(e.raw.from.last_name)))])]),a("div",{staticClass:"d-flex",class:t.isUser(e)?"align-self-start":"align-self-end"},[e&&e.raw.text?a("div",{staticClass:"d-flex chat-preview-user-messagebox align-self-end",class:t.isUser(e)?"chat-preview-user-send":"chat-preview-bot-send"},[t._v(t._s(e.raw.text))]):a("MessageComponent",{class:t.isUser(e)?"chat-preview-user-send":"chat-preview-bot-send",attrs:{message:e}}),a("div",{staticClass:"d-flex align-end chat-preview-timestamp",class:t.isUser(e)?"":"order-first"},[t._v(t._s(t.beautifylDate(e.raw.date)))])],1)])})),0),a("div",{staticClass:"chat-preview-send-message-container"},[t.$vuetify.breakpoint.smAndDown?t._e():a("div",{staticClass:"app-view-bot-divier"}),a("div",{staticClass:"d-flex chat-preview-send-message justify-space-between align-center"},[a("input",{staticClass:"chat-preview-input-field",attrs:{placeholder:t.translate("messageInvite")},on:{input:t.handleText,keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.send(e)}}}),a("img",{staticClass:"chat-preview-send-button",attrs:{src:"/icons/sendMessage.svg"},on:{click:t.send}})])])]):t._e()},i=[]},b738:function(t,e,a){"use strict";a.r(e);var s=a("fa8f"),i=a("099e");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},b909:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("8c4f")),o=s.__importDefault(a("bb51")),r=s.__importDefault(a("6f9f")),c=s.__importDefault(a("918c")),l=s.__importDefault(a("9703")),d=s.__importDefault(a("04ba")),u=s.__importDefault(a("0e58")),f=a("f493"),v=s.__importStar(a("f493")),m=s.__importStar(a("97e5"));i.default.use(n.default);const p=new n.default({mode:"history",routes:[{path:"/",name:"home",component:o.default,children:[{path:"login",name:"login",component:c.default,children:[{path:"tg",name:"tg-login",component:c.default}]}]},{path:"/privacy",name:"privacy",component:r.default},{path:"/app",name:"app",component:c.default,meta:{requiresAuth:!0},children:[{path:"chat/:id",name:"chat",component:c.default,meta:{requiresAuth:!0}}]},{path:"*",name:"notFound",component:l.default},{path:"/payment_success",name:"paymentSuccess",component:u.default},{path:"/payment_failure",name:"paymentFailure",component:d.default}]});p.beforeEach(async(t,e,a)=>{const s=t.matched.some(t=>t.meta.requiresAuth),i=f.store.state.user;if("tg-login"!==t.name)s&&!i?a("/"):"/"===t.path&&i?a("/app"):a();else try{const e=f.store.state.user;if(e&&!e.telegramId){await m.mergeTelegram(t.query);try{v.setBots(await m.getBots()),a("/app")}catch(n){a("/"),v.setSnackbarError(n.message)}}else{const e=await m.loginTelegram(t.query);v.setUser(e),sockets.send("authorization",e.token);try{v.setBots(await m.getBots()),a("/app")}catch(n){a("/"),v.setSnackbarError(n.message)}}}catch(n){a("/"),v.setSnackbar({message:"errors.login.telegram",color:"error",active:!0})}}),e.default=p},bb51:function(t,e,a){"use strict";a.r(e);var s=a("6bc4"),i=a("3d48");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("cccb");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},bba8:function(t,e,a){"use strict";a.r(e);var s=a("0f1a"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},bf79:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"headline pa-4 text-center"},[t._v(t._s(t.$t("noBots")))])},i=[]},bfb3:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticClass:"pa-4",attrs:{justify:"center"}},[a("MessageComponent",{attrs:{edited:!0,message:t.mes}})],1)},i=[]},c1f1:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex flex-column allbots-container"},[this.$vuetify.breakpoint.smAndDown?a("v-slide-group",{attrs:{multiple:"","show-arrows":""}},t._l(t.bots,(function(e){return a("v-slide-item",{key:e._id},[a("div",{staticClass:"d-flex allbots-slide-bot align-center",class:t.activeBot&&e.name===t.activeBot.name?"allbots-slide-bot-active":"",on:{click:function(a){return t.setActiveBot(e)}}},[a("div",{staticClass:"allbots-avatar-circle"}),a("div",{staticClass:"allbots-slider-text"},[t._v(t._s(e.name))]),e.unread>0?a("div",{staticClass:"app-view-bot-message-title-unread"},[t._v(t._s(e.unread>99?"99+":e.unread))]):t._e()])])})),1):t._l(t.bots,(function(e){return a("div",{key:e._id,on:{click:function(a){return t.setActiveBot(e)}}},[a("div",{staticClass:"d-flex align-center allbots-bot-container",class:t.activeBot.name===e.name?"allbots-bot-container-active":""},[a("div",{staticClass:"allbots-avatar-circle"}),a("span",{staticClass:"app-view-bot-container-text"},[t._v(t._s("feed"===e.botType&&t.$t("feed")||e.name))])]),a("div",{staticClass:"app-view-bot-divier"})])}))],2)},i=[]},c224:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-list-item-title",{staticClass:"message-text"},[a("handledText",{attrs:{message:t.message}}),a("v-container",[a("v-row",{attrs:{justify:"start"}},[a("v-btn",{attrs:{outlined:"",color:"white  ",loading:t.loading},on:{click:t.loadPhoto}},[t._v(t._s(t.$t("media.load"))),a("v-icon",{attrs:{right:""}},[t._v("mdi-file-image-outline")])],1)],1)],1),a("vue-easy-lightbox",{attrs:{visible:t.opened,imgs:[t.link]},on:{hide:t.hide}})],1)},i=[]},c4e1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{};o=s.__decorate([n.default],o),e.default=o},c815:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importDefault(a("a71f")),r=s.__importDefault(a("5d22")),c=s.__importDefault(a("8412")),l=s.__importDefault(a("88dd")),d=s.__importDefault(a("5527")),u=s.__importStar(a("f493"));let f=class extends i.default{constructor(){super(...arguments),this.activeBot=u.bots()[0]||"",this.activeChat="",this.mobileChat=!1,this.text=""}get chatSelected(){return!(!this.$vuetify.breakpoint.smAndDown||!u.activeChat())}setActiveBot(t){this.activeBot=t,sockets.send("request_messages",{bot:t})}openChat(t){Number(new Date);if(!this.activeChat||this.activeChat._id!==t._id){this.activeChat&&this.activeChat._id!==t._id&&i.default.set(this.activeChat,"messages",[]),this.activeChat=t;for(const e of u.bots())e&&e._id===this.activeBot._id&&(i.default.set(t,"messages",[]),i.default.set(e,"selected_chat",t));this.activeChat.messages&&this.activeChat.messages.length||u.chatLoading()||(u.setChatLoading(!0),i.default.set(this.activeChat,"messages",[]),sockets.send("request_messages",{bot:t.bot,chat:t._id})),u.setActiveChat(!0),this.activeChat=t}}get tab(){return u.botTab()}set tab(t){u.setBotTab(t)}get BotsLoading(){const t=u.bots()[0];return!u.botsloading()&&t&&(this.activeBot=t),u.botsloading()}};f=s.__decorate([n.default({components:{NoBots:o.default,BotView:r.default,AllBots:c.default,ChatPreview:l.default,ChatList:d.default}})],f),e.default=f},c8e0:function(t,e,a){"use strict";var s=a("1930"),i=a.n(s);i.a},cb20:function(t,e,a){},cbe3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importDefault(a("d96c"));let r=class extends i.default{Poll(t){let e=Array();return t.options.map((t,a)=>{e.push({value:a+1,text:t.text,votes:t.voter_count})}),{question:t.question,answers:e,showResults:!0}}};r=s.__decorate([n.default({props:["message"],components:{VuePoll:o.default}})],r),e.default=r},cbfb:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("f493")),r=a("fe0b"),c=s.__importStar(a("97e5"));let l=class extends i.default{constructor(){super(...arguments),this.modalProfile=!1}get mobile(){return!0}getChatName(t){if(t.raw.name)return t.raw.name;let e="";return t.raw.first_name&&(e=t.raw.first_name),t.raw.last_name&&(e=`${e} ${t.raw.last_name}`),e||r.i18n.t("chat.noname")}async ban(t){try{await c.banChat(t);for(const e of o.bots())if(e._id===t.bot&&e.chats){const a=e.chats.map(e=>(e._id===t._id&&(e.banned=!0),e));i.default.set(e,"chats",a)}}catch(e){o.setSnackbar({message:"errors.chat.ban",color:"error",active:!0})}}copy(t){const e=document.createElement("textarea");let a="https://feedr.chat/app/chat/"+t._id;if(e.value=a,e.setAttribute("readonly",""),e.style.cssText="position:fixed;pointer-events:none;z-index:-9999;opacity:0;",document.body.appendChild(e),navigator.userAgent.match(/ipad|ipod|iphone/i)){const t=e.contentEditable,a=e.readOnly;e.contentEditable="true",e.readOnly=!0;const s=document.createRange();s.selectNodeContents(e);const i=window.getSelection();i.removeAllRanges(),i.addRange(s),e.setSelectionRange(0,999999),e.contentEditable=t,e.readOnly=a}else e.select();let s=!1;try{s=document.execCommand("copy"),o.setSnackbar({message:"text.copied",color:"success",active:!0})}catch(i){console.warn(i)}return document.body.removeChild(e),s}async unban(t){try{await c.unbanChat(t);for(const e of o.bots())if(e._id===t.bot&&e.chats){const a=e.chats.map(e=>(e._id===t._id&&(e.banned=!1),e));i.default.set(e,"chats",a)}}catch(e){o.setSnackbar({message:"errors.chat.unban",color:"error",active:!0})}}};l=s.__decorate([n.default({props:["chat"]})],l),e.default=l},cccb:function(t,e,a){"use strict";var s=a("5ced"),i=a.n(s);i.a},cd00:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=a("fe0b"),r=s.__importStar(a("f493"));let c=class extends i.default{get active(){return r.snackbar().active}set active(t){r.hideSnackbar()}get color(){return r.snackbar().color}get text(){const t=r.snackbar().message;return"string"===typeof t?"Internal Server Error"===t?o.i18n.t("errors.internal"):o.i18n.t(r.snackbar().message.toString()):t[o.i18n.locale]}};c=s.__decorate([n.default],c),e.default=c},cd49:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("3dfd")),o=s.__importDefault(a("b909"));a("f2c7");const r=a("f493"),c=a("fe0b");a("7f7f");const l=s.__importDefault(a("0670")),d=s.__importDefault(a("85fe")),u=s.__importDefault(a("825a"));i.default.use(u.default),i.default.use(d.default),i.default.config.productionTip=!0;const f=new i.default({router:o.default,store:r.store,i18n:c.i18n,vuetify:l.default,render:t=>t(n.default)}).$mount("#app");e.default=f},ce54:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("97e5")),r=s.__importStar(a("f493")),c=s.__importDefault(a("c1df"));let l=class extends i.default{constructor(){super(...arguments),this.loading=!1}async subscripe(){try{this.loading=!0;const t=await o.getStripeSessionId(),e=window.Stripe("pk_live_mqKYe2ecaT5uh4ub1ZA5QEM000M01z6aCD");await e.redirectToCheckout({sessionId:t.id})}catch(t){console.log(t)}}formatDate(t){return c.default(1e3*t).format("DD.MM.YYYY")}async updateStatus(){this.loading=!0;const t=r.user();if(!t)return void(this.loading=!1);const{status:e,nextInvoice:a}=await o.getSubscriptionStatus();t.subscriptionStatus=e,t.nextInvoice=a,this.nextInvoice=a,r.setUser(t),this.loading=!1}mounted(){this.updateStatus()}get user(){return this.$store.state.user}async cancelSubscription(){try{this.loading=!0,await o.cancelSubscription();const t=r.user();if(!t)return;const{status:e,nextInvoice:a}=await o.getSubscriptionStatus();t.subscriptionStatus=e,t.nextInvoice=a,this.nextInvoice=a,r.setUser(t)}catch(t){console.log(t)}finally{this.loading=!1}}};l=s.__decorate([n.default({props:["dialog","close"],watch:{dialog:function(t){t&&this.updateStatus()}}})],l),e.default=l},ce9b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("f493")),r=a("fe0b"),c=s.__importDefault(a("c1df")),l=s.__importDefault(a("e6b0")),d=s.__importDefault(a("f561")),u=s.__importDefault(a("b738"));let f=class extends i.default{constructor(){super(...arguments),this.chat=null,this.text="",this.validsend=!1,this.chatnav=!1,this.winheight=0,this.typingCooldown=!1}getBotName(t){for(const e of o.bots())if(t.bot===e._id.toString())return e.name}setTypingCooldown(t){this.typingCooldown=t}setTyping(){this.chat&&sockets.send("send_typing",{bot:this.chat.bot,chat:this.chat._id,type:this.chat.type})}sendTyping(t){if(t){if(this.typingCooldown)return;this.setTypingCooldown(!0),this.setTyping();const t=this;setTimeout(()=>t.setTypingCooldown(!1),5e3)}}getBotType(t){for(const e of o.bots())if(t.bot===e._id.toString())return e.botType}updated(){let t=!1;for(const e of o.bots())e.unread&&(t=!0);document.getElementById("favicon").href=t?"./icons/circle.png":"./icons/feedr.png"}visibilityChanged(t,e,a,s){let n=this.curbot;for(const i of o.bots())i&&i._id==n._id&&(n=i);if(!t||n.no_more_chats||n.chatsloading||!n.oldestLoadedChat)return;const r=n.chats.length||0,c=a+1;c===r&&(i.default.set(n,"chatsloading",!0),sockets.send("request_chats",{bot:n._id,id:n.oldestLoadedChat._id}))}frombot(t,e){return"telegram"===t.botType?t.telegramId===e.raw.from.id?r.i18n.t("you")+": ":"":"viber"===t.botType||"vk"===t.botType?e.frombot?r.i18n.t("you")+": ":"":void 0}getChatName(t){if("feed"===this.curbot.botType)for(const a of o.bots())if(a._id==t.bot){let e="";return t.raw.name?(e=t.raw.name,{type:"feed",botType:a.botType,name:e,botName:a.name}):(t.raw.first_name&&(e=t.raw.first_name),t.raw.last_name&&(e=`${e} ${t.raw.last_name}`),{type:"feed",botType:a.botType,name:e,botName:a.name})}if(t.raw.name)return{type:"default",name:t.raw.name};let e="";return t.raw.first_name&&(e=t.raw.first_name),t.raw.last_name&&(e=`${e} ${t.raw.last_name}`),e?{type:"default",name:e}:r.i18n.t("chat.noname")}get selectedChat(){for(const t of o.bots())if(t&&t._id===this.$props.bot._id&&t.selected_chat){this.openChat(t.selected_chat);for(const e of t.chats)if(e._id===t.selected_chat._id)return e}else if(t&&t._id===this.$props.bot._id&&!t.selected_chat&&this.chat)return this.openChat(this.chat),this.chat}get curbot(){for(const t of o.bots())if(t&&t._id==this.$props.bot._id)return t}get chatloading(){return o.chatLoading()}get sortedChats(){for(const t of o.bots())if(t&&t._id===this.$props.bot._id&&t.chats)return t.chats.sort((t,e)=>t.lastMessage&&e.lastMessage?new Date(t.lastMessage.createdAt||t.lastMessage.updatedAt)<new Date(e.lastMessage.createdAt||t.lastMessage.updatedAt)?1:-1:t.lastMessage&&!e.lastMessage?new Date(t.lastMessage.createdAt)<new Date(e.updatedAt)?1:-1:!t.lastMessage&&e.lastMessage?new Date(t.updatedAt)<new Date(e.lastMessage.createdAt)?1:-1:t.lastMessage||e.lastMessage?0:new Date(t.updatedAt)<new Date(e.updatedAt)?1:-1)}chatActivated(t){return!!t&&!(!this.selectedChat||this.selectedChat._id!==t._id)}get heightStyle(){let t=this.winheight-120;return{height:t+"px"}}get listStyle(){let t=this.winheight-100;return{height:t+"px"}}WindowHeight(t){this.winheight=t.target.innerHeight}mounted(){this.winheight=window.innerHeight,this.$nextTick((function(){window.addEventListener("resize",this.WindowHeight)}))}get wrapperHeight(){let t=this.winheight-120-160;return{height:t+"px",position:"absoulte"}}get sendRules(){return[t=>!!t||"",t=>(t&&t.length)<=4e3||!t||r.i18n.t("validation.tomuchtext")]}openChat(t){Number(new Date);if(!this.chat||this.chat._id!==t._id){this.chat&&this.chat._id!==t._id&&i.default.set(this.chat,"messages",[]),this.chat=t;for(const e of o.bots())e&&e._id===this.$props.bot._id&&(i.default.set(t,"messages",[]),i.default.set(e,"selected_chat",t));this.chat.messages&&this.chat.messages.length||o.chatLoading()||(o.setChatLoading(!0),i.default.set(this.chat,"messages",[]),sockets.send("request_messages",{bot:t.bot,chat:t._id}))}}setMessageSendFocus(){if(!this.mobile)if(this.$refs.inputMsg)this.$refs.msgSendForm.reset(),this.$refs.inputMsg.focus();else{let t=this;setTimeout((function(){t.$refs.msgSendForm.reset(),t.$refs.inputMsg.focus()}),150)}}get mobile(){return this.$vuetify.breakpoint.xsOnly}formatDate(t){return c.default(1e3*t).format("HH:mm:ss")}formatDateHM(t){return c.default(t).format("HH:mm")}formatDateTooltip(t){return c.default(1e3*t).format("YYYY-MM-DD HH:mm:ss")}send(){this.chat&&this.text&&(sockets.send("send_message",{bot:this.chat.bot,chat:this.chat._id,message:this.text,type:this.chat.type}),this.setTypingCooldown(!1),this.$refs.msgSendForm.reset())}};f=s.__decorate([n.default({props:{bot:Object},watch:{text:"sendTyping"},components:{ChatComponent:l.default,ChatMenu:d.default,Checkout:u.default}})],f),e.default=f},cff9:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importDefault(a("0beb")),r=s.__importDefault(a("9572")),c=s.__importDefault(a("0c66")),l=s.__importStar(a("97e5")),d=s.__importStar(a("f493")),u=a("fe0b");let f=class extends i.default{constructor(){super(...arguments),this.loading=!1,this.addBotDialog=!1,this.botId="",this.greetingMessage="",this.openedTab="",this.settingsNav=!1,this.openedBot=null}mounted(){this.updateList()}get curbot(){if(!this.bot)return null;for(const t of d.bots())if(t._id===this.bot._id)return t}setDefault(){this.openedTab="",this.openedBot=null,this.invite=null}get mobile(){return this.$vuetify.breakpoint.xsOnly}get bot(){return this.openedBot}get tab(){return this.openedTab}openTab(t,e){"invite"!==e?(this.openedBot=t,this.openedTab=e):(this.openedTab=e,this.invite=t,this.openedBot=null)}ownershipStatus(t){return t&&!t.administrated?u.i18n.t("yes"):u.i18n.t("no")}closeAddBotDialog(){this.addBotDialog=!1}getIcon(t){switch(t){case"telegram":return"mdi-telegram";case"viber":return"mdi-phone-in-talk";case"vk":return"mdi-vk";default:return}}async updateList(){if(d.user()){this.loading=!0;try{d.setBots(await l.getBots());const t=d.user();if(!t)return;const{status:e,nextInvoice:a}=await l.getSubscriptionStatus();t.subscriptionStatus=e,t.nextInvoice=a,d.setUser(t)}catch(t){d.setSnackbarError(t.message)}finally{this.loading=!1}}}async updateBot(t){this.loading=!0;try{await l.updateBot(t),d.setBots(await l.getBots())}catch(e){d.setSnackbarError(e.message)}finally{this.loading=!1}}async rejectBot(t){if(confirm(u.i18n.t("rejectBot.confirm",{name:t.name}))){this.loading=!0;try{await l.RejectBot(t._id),d.setBots(await l.getBots())}catch(e){d.setSnackbarError(e.message)}finally{this.setDefault(),this.loading=!1}}}async RejectInvite(t){this.loading=!0;try{await l.RejectInvite(t),d.setBots(await l.getBots())}catch(e){d.setSnackbarError(e.message)}finally{this.loading=!1}}async AcceptInvite(t){this.loading=!0;try{await l.AcceptInvite(t),d.setBots(await l.getBots())}catch(e){d.setSnackbarError(e.message)}finally{this.loading=!1}}async deleteBot(t){if(confirm(u.i18n.t("deleteBot.confirm",{name:t.name}))){this.loading=!0;try{await l.deleteBot(t),d.setBots(await l.getBots())}catch(e){d.setSnackbarError(e.message)}finally{this.setDefault(),this.loading=!1}}}};f=s.__decorate([n.default({props:{dialog:Boolean,close:Function},components:{AddBotDialog:o.default,EditBotTab:r.default,AddAdminTab:c.default}})],f),e.default=f},d03e:function(t,e,a){"use strict";a.r(e);var s=a("244a"),i=a("25ad");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},d178:function(t,e,a){"use strict";a.r(e);var s=a("8238"),i=a("46cd");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("5dfc");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},d7b7:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"600px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("merge.header")))]),a("v-card-text",[a("v-col",[t.user?a("v-row",[a("span",[t._v(" "+t._s(t.$t("merge.text1"))+" "),"ru"===t.$store.state.language?a("span",[a("a",{attrs:{href:"https://t.me/feedrbot",target:"_blank"}},[t._v("@feedrbot")]),t._v(" "+t._s(t.$t("merge.text2")))]):t._e()])]):t._e(),a("v-container",[t.$store.state.user.telegramId?t._e():a("v-col",{staticClass:"justify-center d-flex"},[a("vue-telegram-login",{attrs:{mode:"callback","telegram-login":"feedrbot",radius:"3",userpic:!1},on:{callback:t.onTelegramAuth}})],1),t.$store.state.user.facebookId?t._e():a("v-col",{staticClass:"justify-center d-flex"},[a("fb-signin-button",{attrs:{params:{scope:"email",return_scopes:!0}},on:{success:t.onFacebookSignInSuccess,error:t.onFacebookSignInError}},[t._v(t._s(t.$t("home.facebook")))])],1),t.$store.state.user.email?t._e():a("v-col",{staticClass:"justify-center d-flex"},[a("g-signin-button",{attrs:{params:{client_id:t.googleClientId}},on:{success:t.onGoogleSignInSuccess,error:t.onGoogleSignInError}},[t._v(t._s(t.$t("home.google")))])],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:""},on:{click:t.close}},[t._v(t._s(t.$t("close")))])],1)],1)],1)},i=[]},d7ff:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-view-main-container"},[t.BotsLoading?a("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),a("div",{staticClass:"app-view-main-container d-flex"},[t.BotsLoading||t.chatSelected?t._e():a("AllBots",{attrs:{setActiveBot:t.setActiveBot,activeBot:t.activeBot}}),t.chatSelected?t._e():a("ChatList",{attrs:{activeBot:t.activeBot,BotsLoading:t.BotsLoading,openChat:t.openChat,activeChat:t.activeChat}}),t.chatSelected||!this.$vuetify.breakpoint.smAndDown?a("ChatPreview",{attrs:{chat:t.activeChat}}):t._e()],1)],1)},i=[]},da32:function(t,e,a){"use strict";a.r(e);var s=a("5d66"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},dff7:function(t,e,a){"use strict";a.r(e);var s=a("7afb"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},e1ed:function(t,e,a){},e289:function(t,e,a){"use strict";a.r(e);var s=a("a77e"),i=a("9142");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("f179");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},e39d:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1"));let o=class extends i.default{constructor(){super(...arguments),this.hided=!1}get expired(){const t=new URL(this.$props.message.raw.media),e=t.searchParams.get("Expires");return 1e3*Number(e)<Number(new Date)}async loadSticker(){this.expired?this.hided=!0:window.open(this.$props.message.raw.media,"_blank")}filesize(t){const e=["Bytes","KB","MB","GB","TB"];if(0===t)return"n/a";const a=Math.floor(Math.log(t)/Math.log(1024));return 0===a?`${t} ${e[a]}`:`${(t/1024**a).toFixed(1)} ${e[a]}`}mobile(){return this.$vuetify.breakpoint.xsOnly?"center":"start"}};o=s.__decorate([n.default({props:["message"]})],o),e.default=o},e5f4:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2fe1")),o=s.__importStar(a("f493")),r=a("fe0b"),c=s.__importDefault(a("5869")),l=s.__importDefault(a("b738")),d=s.__importDefault(a("0dc4"));let u=class extends i.default{constructor(){super(...arguments),this.botsDialog=!1,this.subscriptionDialog=!1,this.mergeDialog=!1}get mobileChatOpened(){return!this.$vuetify.breakpoint.smAndDown||!o.activeChat()}get locales(){return[{icon:"🇺🇸",code:"en"},{icon:"🇷🇺",code:"ru"}]}get currentLocale(){for(const t of this.locales)if(t.code===r.i18n.locale)return t}get currentTheme(){return o.dark()?`${r.i18n.t("themes.dark")}: ${r.i18n.t("themes.on")}`:`${r.i18n.t("themes.dark")}: ${r.i18n.t("themes.off")}`}get sdfdsfds(){return o.activeChat()}mounted(){this.$vuetify.theme.dark=o.dark()}closeBotsDialog(){this.botsDialog=!1}closeSubscription(){this.subscriptionDialog=!1}closeMerge(){this.mergeDialog=!1}toggleMode(){o.setDark(!o.dark()),this.$vuetify.theme.dark=o.dark()}changeLanguage(t){r.i18n.locale=t,o.setLanguage(t),document.title=r.i18n.t("title")}logout(){o.logout(),this.$router.replace("/")}};u=s.__decorate([n.default({components:{BotsDialog:c.default,Checkout:l.default,Merge:d.default}})],u),e.default=u},e6b0:function(t,e,a){"use strict";a.r(e);var s=a("f186"),i=a("e805");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("44b9");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},e7fa:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-container pa-4",style:t.privacyStyle},[a("h2",[t._v("Privacy Policy of Feedr")]),a("p",[t._v("Feedr operates the feedr.chat website, which provides the SERVICE.")]),a("p",[t._v("This page is used to inform website visitors regarding our policies with the collection, use, and disclosure of Personal Information if anyone decided to use our Service, the Feedr website.")]),a("p",[t._v("If you choose to use our Service, then you agree to the collection and use of information in relation with this policy. The Personal Information that we collect is used for providing and improving the Service. We will not use or share your information with anyone except as described in this Privacy Policy.")]),a("h3",[t._v("Information Collection and Use")]),a("p",[t._v("For a better experience while using our Service, we may require you to provide us with certain personally identifiable information, including but not limited to your name, phone number, and postal address. The information that we collect will be used to contact or identify you.")]),a("h3",[t._v("Log Data")]),a("p",[t._v('We want to inform you that whenever you visit our Service, we collect information that your browser sends to us that is called Log Data. This Log Data may include information such as your computer’s Internet Protocol ("IP") address, browser version, pages of our Service that you visit, the time and date of your visit, the time spent on those pages, and other statistics.')]),a("h3",[t._v("Cookies")]),a("p",[t._v("Cookies are files with small amount of data that is commonly used an anonymous unique identifier. These are sent to your browser from the website that you visit and are stored on your computer’s hard drive.")]),a("p",[t._v('Our website uses these "cookies" to collect information and to improve our Service. You have the option to either accept or refuse these cookies, and know when a cookie is being sent to your computer. If you choose to refuse our cookies, you may not be able to use some portions of our Service.')]),a("h3",[t._v("Service Providers")]),t._m(0),a("p",[t._v("We want to inform our Service users that these third parties have access to your Personal Information. The reason is to perform the tasks assigned to them on our behalf. However, they are obligated not to disclose or use the information for any other purpose.")]),a("h3",[t._v("Security")]),a("p",[t._v("We value your trust in providing us your Personal Information, thus we are striving to use commercially acceptable means of protecting it. But remember that no method of transmission over the internet, or method of electronic storage is 100% secure and reliable, and we cannot guarantee its absolute security.")]),a("h3",[t._v("Links to Other Sites")]),a("p",[t._v("Our Service may contain links to other sites. If you click on a third-party link, you will be directed to that site. Note that these external sites are not operated by us. Therefore, we strongly advise you to review the Privacy Policy of these websites. We have no control over, and assume no responsibility for the content, privacy policies, or practices of any third-party sites or services.")]),a("h3",[t._v("Children’s Privacy")]),a("p",[t._v("Our Services do not address anyone under the age of 13. We do not knowingly collect personal identifiable information from children under 13. In the case we discover that a child under 13 has provided us with personal information, we immediately delete this from our servers. If you are a parent or guardian and you are aware that your child has provided us with personal information, please contact us so that we will be able to do necessary actions.")]),a("h3",[t._v("Changes to This Privacy Policy")]),a("p",[t._v("We may update our Privacy Policy from time to time. Thus, we advise you to review this page periodically for any changes. We will notify you of any changes by posting the new Privacy Policy on this page. These changes are effective immediately, after they are posted on this page.")]),a("h3",[t._v("Contact Us")]),a("p",[t._v("If you have any questions or suggestions about our Privacy Policy, do not hesitate to contact us.")]),a("router-link",{attrs:{to:"/"}},[t._v("Back to main page")])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[t._v("We may employ third-party companies and individuals due to the following reasons:"),a("li",[t._v("To facilitate our Service;")]),a("li",[t._v("To provide the Service on our behalf;")]),a("li",[t._v("To perform Service-related services; or")]),a("li",[t._v("To assist us in analyzing how our Service is used.")])])}]},e805:function(t,e,a){"use strict";a.r(e);var s=a("58da"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},ea14:function(t,e,a){"use strict";a.r(e);var s=a("628a"),i=a("1f35");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("3ece");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},ea62:function(t,e,a){},eaa6:function(t,e,a){"use strict";a.r(e);var s=a("4a77"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},ec84:function(t,e,a){"use strict";a.r(e);var s=a("471a"),i=a("0f8b");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);a("f766");var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},ed6f:function(t,e,a){"use strict";a.r(e);var s=a("4720"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},f003:function(t,e,a){},f0d4:function(t,e,a){},f179:function(t,e,a){"use strict";var s=a("e1ed"),i=a.n(s);i.a},f186:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{staticClass:"columner",style:t.heightStyle,attrs:{cols:"12"}},[t.unreadMessages?a("div",{staticClass:"new_message"},[a("div",{staticStyle:{"text-align":"center"}},[a("v-chip",[t._v(t._s(t.$t("message.new")))])],1)]):t._e(),t._l(t.sortedMessages,(function(e,s){return a("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:function(a,i){return t.visibilityChanged(a,i,s,e,t.curchat,t.bot)},expression:"(isVisible, entry) => visibilityChanged(isVisible, entry, i, message, curchat, bot)"}],key:e._id},[t.frombot(t.bot,e)?a("v-row",{staticClass:"pa-4",attrs:{justify:"end"}},[a("MessageComponent",{attrs:{message:e}})],1):t._e(),t.frombot(t.bot,e)?t._e():a("v-row",{staticClass:"pa-4",attrs:{justify:"start"}},[a("MessageComponent",{attrs:{message:e}})],1)],1)}))],2)},i=[]},f195:function(t,e,a){"use strict";a.r(e);var s=a("191e"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},f2c7:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("5132")),o=s.__importStar(a("f493")),r=new n.default({debug:!0,connection:"https://ws.feedr.chat",vuex:{store:o.store,actionPrefix:"socket_action",mutationPrefix:"socket_"}});i.default.use(r),t.sockets=r.io}).call(this,a("c8ba"))},f3ac:function(t,e,a){},f493:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.readMessage=e.addMessages=e.addChats=e.addChat=e.setActiveChat=e.setBotTab=e.setNoMoreMessages=e.setBots=e.logout=e.setBotsLoading=e.setChatLoading=e.setDark=e.setLanguage=e.hideSnackbar=e.setSnackbarError=e.setSnackbar=e.setUser=e.activeChat=e.botTab=e.nomoremessages=e.invites=e.bots=e.botsloading=e.chatLoading=e.dark=e.language=e.snackbar=e.user=e.store=void 0;const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("2f62")),o=s.__importDefault(a("0e44")),r=s.__importDefault(a("8247"));i.default.use(n.default);const c={state:{user:void 0,snackbar:{message:"",active:!1,color:"success"},language:void 0,dark:!0,bots:[],invites:[],nomoremessages:!1,loading:{chatloading:!1,botsloading:!1},botTab:0,activeChat:!1},mutations:{setUser(t,e){t.user=e,sockets.send("authentication",t.user.token)},async addChats(t,e){let a=e[0];if(e=e[1],Array.isArray(e)){for(const s of t.bots)if(s._id===a&&s.chats){const t=await Promise.all(e.filter(t=>!s.chats.find(e=>{if(t._id===e._id)return e})));if(!t)return;s.chats.push(...t)}}else for(const s of t.bots)if(s._id===a&&s.chats){if(s.chats.find(t=>{if(t._id===e._id)return t}))return;s.chats.push(e)}},async addMessages(t,e){var a,s;let i=e[0],n=e[1];if(e=e[2],Array.isArray(e)){for(const o of t.bots)if(o._id===i&&o.chats)for(const t of o.chats)if(t._id===n&&o.selected_chat&&o.selected_chat._id===t._id){if(!(null===(a=t.messages)||void 0===a?void 0:a.length))return t.messages=[],void t.messages.push(...e);const s=await Promise.all(e.filter(e=>!t.messages.find(t=>{if(e._id===t._id)return t})));if(!s)return;t.messages.push(...s)}}else for(const o of t.bots)if(o._id===i&&o.chats)for(const t of o.chats)if(t._id===n&&o.selected_chat&&o.selected_chat._id===t._id){if(t.messages.find(t=>{if(e._id===t._id)return t}))return;return(null===(s=null===t||void 0===t?void 0:t.messages)||void 0===s?void 0:s.length)||(t.messages=[]),void t.messages.push(e)}},readMessage(t,e){for(const a of t.bots[t.botTab].chats)if(a._id===t.bots[t.botTab].selected_chat._id)for(const t of a.messages)if(t._id===e._id)return void(e.unread=void 0)},logout(t){t.user=void 0,sockets.send("logout")},setSnackbar(t,e){t.snackbar=e},setLanguage(t,e){t.language=e},setDark(t,e){t.dark=e},setChatLoading(t,e){t.loading.chatloading=e},setBotsLoading(t,e){t.loading.botsloading=e},async setBots(t,e){e.bots&&await Promise.all(e.bots.map(t=>(t.chats=[],t.selected_chat=void 0,t)));let a=[{_id:"__feed",botType:"feed",name:"Feed",username:"",greetingMessage:"",chats:[],unread:0,status:"active"}];a.push(...e.bots),a=a.map(e=>{for(const a of t.bots)if(e._id===a._id)return e.chats=a.chats,e.selected_chat=a.selected_chat,e;return e}),t.bots=a;const s=[];for(const i of t.bots[0].chats)for(const t of a)i.bot===t._id&&s.push(i);t.bots[0].chats=s,t.invites=e.invites,t.user&&(sockets.send("leave_all"),t.bots.forEach(t=>{sockets.send("join",t._id)}))},setNoMoreMessages(t,e){t.nomoremessages=e},setBotTab(t,e){t.botTab=e},setActiveChat(t,e){t.activeChat=e}},getters:{user:t=>t.user,snackbar:t=>t.snackbar,language:t=>t.language,dark:t=>t.dark,chatloading:t=>t.loading.chatloading,botsloading:t=>t.loading.botsloading,bots:t=>t.bots,invites:t=>t.invites,nomoremessages:t=>t.nomoremessages,bottab:t=>t.botTab,activeChat:t=>t.activeChat},plugins:[o.default({paths:["user","language"]})],modules:{socket:r.default}};e.store=new n.default.Store(c);const l=e.store.getters;e.user=()=>l.user,e.snackbar=()=>l.snackbar,e.language=()=>l.language,e.dark=()=>l.dark,e.chatLoading=()=>l.chatloading,e.botsloading=()=>l.botsloading,e.bots=()=>l.bots,e.invites=()=>l.invites,e.nomoremessages=()=>l.nomoremessages,e.botTab=()=>l.bottab,e.activeChat=()=>l.activeChat,e.setUser=t=>{e.store.commit("setUser",t)},e.setSnackbar=t=>{e.store.commit("setSnackbar",t)},e.setSnackbarError=t=>{e.setSnackbar({message:t,color:"error",active:!0})},e.hideSnackbar=()=>{e.store.commit("setSnackbar",Object.assign(Object.assign({},e.store.state.snackbar),{active:!1}))},e.setLanguage=t=>{e.store.commit("setLanguage",t)},e.setDark=t=>{e.store.commit("setDark",t)},e.setChatLoading=t=>{e.store.commit("setChatLoading",t)},e.setBotsLoading=t=>{e.store.commit("setBotsLoading",t)},e.logout=()=>{e.store.commit("logout")},e.setBots=t=>{e.store.commit("setBots",t)},e.setNoMoreMessages=t=>{e.store.commit("setNoMoreMessages",t)},e.setBotTab=t=>{e.store.commit("setBotTab",t)},e.setActiveChat=t=>{e.store.commit("setActiveChat",t)},e.addChat=t=>{e.store.commit("addChat",t)},e.addChats=(t,a)=>{e.store.commit("addChats",[a,t])},e.addMessages=(t,a,s)=>{e.store.commit("addMessages",[s,a,t])},e.readMessage=t=>{e.store.commit("readMessage",t)}},f561:function(t,e,a){"use strict";a.r(e);var s=a("3219"),i=a("34cc");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},f750:function(t,e,a){},f766:function(t,e,a){"use strict";var s=a("f0d4"),i=a.n(s);i.a},fa07:function(t,e,a){"use strict";a.r(e);var s=a("43f5"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},fa8f:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{scrollable:"","max-width":"600px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[t._v(t._s(t.$t("subscription.subscription")))]),a("v-card-text",[a("v-col",[t.user?a("v-row",["earlyAdopter"===t.user.subscriptionStatus?a("div",[a("b",[t._v(t._s(t.$t("subscription.subscription"))+":")]),t._v(" "+t._s(t.$t("subscription.early"))),a("br"),a("br"),t._v(t._s(t.$t("subscription.earlyStatusText")))]):"active"===t.user.subscriptionStatus?a("div",[a("b",[t._v(t._s(t.$t("subscription.subscription"))+":")]),t._v(" "+t._s(t.$t("subscription.active"))),a("br"),a("br"),t._v(t._s(t.$t("subscription.activeStatusText"))),a("br"),a("br"),a("b",[t._v(t._s(t.$t("subscription.nextInvoice"))+": ")]),t._v(t._s(t.nextInvoice&&t.nextInvoice.amount/100)+"$ "+t._s(t.nextInvoice&&t.formatDate(t.nextInvoice.period.end)))]):"inactive"===t.user.subscriptionStatus?a("div",[a("b",[t._v(t._s(t.$t("subscription.subscription"))+":")]),t._v(" "+t._s(t.$t("subscription.inactive"))),a("br"),a("br"),t._v(t._s(t.$t("subscription.inactiveStatusText")))]):"failed"===t.user.subscriptionStatus?a("div",[a("b",[t._v(t._s(t.$t("subscription.subscription"))+":")]),t._v(" "+t._s(t.$t("subscription.failed"))),a("br"),a("br"),t._v(t._s(t.$t("subscription.failedStatusText"))),a("br"),a("br"),a("b",[t._v(t._s(t.$t("subscription.nextInvoice"))+": ")]),t._v(t._s(t.nextInvoice&&t.nextInvoice.amount/100)+"$ "+t._s(t.nextInvoice&&t.formatDate(t.nextInvoice.period.end)))]):t._e()]):t._e(),a("v-container",[a("v-row",{attrs:{justify:"center"}},["earlyAdopter"===t.user.subscriptionStatus?a("div"):"active"===t.user.subscriptionStatus?a("div",[a("v-col",{attrs:{justify:"center"}},[a("v-row",{attrs:{justify:"center"}},[a("v-btn",{attrs:{loading:t.loading,outlined:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.subscripe(e)}}},[t._v(t._s(t.$t("subscription.update")))])],1)],1),a("v-col",{attrs:{justify:"center"}},[a("v-row",{attrs:{justify:"center"}},[a("v-btn",{attrs:{loading:t.loading,outlined:"",color:"red"},on:{click:function(e){return e.stopPropagation(),t.cancelSubscription(e)}}},[t._v(t._s(t.$t("subscription.cancel")))])],1)],1)],1):"inactive"===t.user.subscriptionStatus?a("div",[a("v-btn",{attrs:{loading:t.loading,outlined:"",color:"indigo"},on:{click:function(e){return e.stopPropagation(),t.subscripe(e)}}},[t._v(t._s(t.$t("subscription.price")))])],1):"failed"===t.user.subscriptionStatus?a("div",[a("v-btn",{attrs:{loading:t.loading,outlined:"",color:"red"},on:{click:function(e){return e.stopPropagation(),t.subscripe(e)}}},[t._v(t._s(t.$t("subscription.update")))])],1):t._e()])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue",text:""},on:{click:t.close}},[t._v(t._s(t.$t("close")))])],1)],1)],1)},i=[]},fc86:function(t,e,a){"use strict";var s=a("8be4"),i=a.n(s);i.a},fd08:function(t,e,a){"use strict";a.r(e);var s=a("8975"),i=a("40cc");for(var n in i)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(n);var o=a("2877"),r=Object(o["a"])(i["default"],s["a"],s["b"],!1,null,null,null);e["default"]=r.exports},fdda:function(t,e,a){"use strict";a.r(e);var s=a("3ae8"),i=a.n(s);for(var n in s)["default"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(n);e["default"]=i.a},fde4:function(t,e,a){"use strict";a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return i}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"v-container pa-4"},[a("v-layout",{staticClass:"text-xs-center",attrs:{column:"","justify-center":"","align-center":""}},[a("v-flex",{attrs:{xs12:"",md10:""}},[a("div",{staticClass:"headline pb-4"},[a("span",[t._v(t._s(t.$t("notFound")))])])])],1)],1)},i=[]},fe0b:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.i18n=void 0;const s=a("9ab4"),i=s.__importDefault(a("2b0e")),n=s.__importDefault(a("a925")),o=a("72aa"),r=s.__importStar(a("f493"));function c(){if(r.language())return r.language();{const t=(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en").substr(0,2),e=["en","ru"];return e.indexOf(t)>-1?t:"en"}}i.default.use(n.default),e.i18n=new n.default({locale:c(),messages:o.messages})}});
//# sourceMappingURL=app.2a002ee0.js.map